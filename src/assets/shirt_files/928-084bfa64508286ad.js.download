function _array_like_to_array(e,i){(null==i||i>e.length)&&(i=e.length);for(var r=0,o=new Array(i);r<i;r++)o[r]=e[r];return o}function _array_with_holes(e){if(Array.isArray(e))return e}function _define_property(e,i,r){return i in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e}function _iterable_to_array_limit(e,i){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,t,n=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(o=r.next()).done)&&(n.push(o.value),!i||n.length!==i);s=!0);}catch(e){a=!0,t=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw t}}return n}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(i){_define_property(e,i,r[i])}))}return e}function ownKeys(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),r.push.apply(r,o)}return r}function _object_spread_props(e,i){return i=null!=i?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})),e}function _object_without_properties(e,i){if(null==e)return{};var r,o,t=_object_without_properties_loose(e,i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],i.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function _object_without_properties_loose(e,i){if(null==e)return{};var r,o,t={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],i.indexOf(r)>=0||(t[r]=e[r]);return t}function _sliced_to_array(e,i){return _array_with_holes(e)||_iterable_to_array_limit(e,i)||_unsupported_iterable_to_array(e,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,i){if(e){if("string"==typeof e)return _array_like_to_array(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_array_like_to_array(e,i):void 0}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{6941:function(e,i,r){"use strict";r.d(i,{Z:function(){return E}});var o=r(32930),t=r(40877),n=r(2389),s=r.n(n),a=r(50874),c=r.n(a),l=r(25118),d=r.n(l),u=r(17902),_=r(36350),v=r(33918),p=r(84581),w=r(58271),m=r(88592),f=r(82623),h=r(45835),y=r(61262),b=r(42789),x=r(27434),j=r(65074),C=r.n(j),g=r(94377),k=r.n(g),S=r(76303),N=r.n(S),P=s()((function(){return r.e(7688).then(r.bind(r,27688))}),{loadableGenerated:{webpack:function(){return[27688]}},ssr:!1}),I=s()((function(){return Promise.resolve().then(r.bind(r,42980))}),{loadableGenerated:{webpack:function(){return[42980]}},ssr:!1});function Z(e){var i,r,n,s=e.review,a=e.product,c=e.isSlide,l=e.onReply,b=e.newReply,j=e.onDelete,g=e.hasAnswer,S=e.isReplying,Z=e.onEditReview,O=e.showReviewHistory,M=e.isShowConversation,R=void 0===M||M,z=e.isShowReviewHistory,E=void 0===z||z,T=_sliced_to_array((0,x.useState)(s),2),D=T[0],A=T[1],U=_sliced_to_array((0,x.useState)(!1),2),L=U[0],H=U[1],B=_sliced_to_array((0,x.useState)(!1),2),F=B[0],Y=B[1],q=(0,h.b)().ua.isPc,K=(0,_.useEmitter)().emitEvent,V=(0,y.B)().dalan.openChatModal,W=(0,m.M_)(["currentUser","isLoggedIn","userId"]),J=W.currentUser,X=W.isLoggedIn,G=W.userId,Q=(0,y.B)().authForm.toggleModal,$=null==a||null===(i=a.vendor)||void 0===i?void 0:i.id,ee=!!J&&!!$&&$===(null===(r=J.vendor)||void 0===r?void 0:r.id),ie=G===(null==s||null===(n=s.user)||void 0===n?void 0:n.id),re=E&&(null==s?void 0:s.historyCount)>1,oe="".concat(null==s?void 0:s.historyCount," تجربه"),te=(0,u.Db)({mutationFn:f.R7,onError:w.S_,onSuccess:function(){A((function(e){var i=e.likeCount||0;return _object_spread_props(_object_spread({},e),{isLikedByCurrentUser:!e.isLikedByCurrentUser,likeCount:e.isLikedByCurrentUser?i-1:i+1})}))}}),ne=te.mutate,se=te.isLoading,ae=(0,x.useCallback)((function(){if(X){var e={id:s.id,undo:null==D?void 0:D.isLikedByCurrentUser};ne(e)}else setTimeout((function(){Q()}),0)}),[s,D,X,ne,Q]),ce=(0,x.useCallback)((function(){setTimeout((function(){K("show-report-content-modal",{source:"REVIEW",entityId:s.id,entityType:"REVIEW",reportType:v.Rc.REVIEW})}),0)}),[K,s.id]),le=(0,x.useCallback)((function(){var e,i,r,o=(null==a?void 0:a.id)?{attachedProductId:a.id,hasProductForWebview:{userId:null,id:a.id,vendorId:null,price:a.price,primaryPrice:a.primaryPrice,title:a.title||a.name,picture:(null===(e=a.photo)||void 0===e?void 0:e.md)||(null===(i=a.photo)||void 0===i?void 0:i.original)||(null===(r=a.photo)||void 0===r?void 0:r.url)}}:{};setTimeout((function(){V(s.user.hashId,o)}),0)}),[V,null==a?void 0:a.id,s.user.hashId]),de=(0,x.useCallback)((function(){X?setTimeout((function(){var e;le(),(0,p.s)("chatOpen",{productId:null==a?void 0:a.id,receiverIsVendor:!1,comesFrom:"review-card",receiverId:null==s||null===(e=s.user)||void 0===e?void 0:e.id})}),0):setTimeout((function(){Q()}),0)}),[X,le,Q]);return(0,x.useEffect)((function(){A(s)}),[s]),(0,o.jsxs)("div",{className:(0,t.Z)("ignore-review-click",d()["review-actions"],_define_property({},d()["review-actions--is-slide"],c)),children:[ie&&(0,o.jsxs)(k(),{modalProps:{showClose:!0,showHeader:!0,title:"موارد بیشتر"},popoverClassName:d()["review-actions__dropdown-popover"],className:d()["review-actions__item"],children:[(0,o.jsxs)(k().Item,{onClick:function(){setTimeout((function(){H(!0)}),0)},className:d()["review-actions__dropdown-popover-item"],children:[(0,o.jsx)(N(),{name:"bi-delete"}),(0,o.jsx)("span",{children:"حذف "})]}),(0,o.jsxs)(k().Item,{onClick:function(){setTimeout((function(){Y(!0)}),0)},className:d()["review-actions__dropdown-popover-item"],children:[(0,o.jsx)(N(),{name:"bi-edit-square"}),(0,o.jsx)("span",{children:"ویرایش "})]})]}),!ie&&(0,o.jsx)("div",{className:d()["review-actions__item"],children:(0,o.jsx)(C(),{color:"secondary",variant:"outline",size:q?"xs":"xxs",icon:(0,t.Z)("bi-report-content",d()["review-actions__icon"]),onClick:ce})}),(0,o.jsx)(C(),{variant:"outline",loading:se,size:q?"xs":"xxs",className:(0,t.Z)(d()["review-actions__vote-btn"],d()["review-actions__item"]),icon:(0,t.Z)("bi-like-thumb",d()["review-actions__icon"]),color:(null==D?void 0:D.isLikedByCurrentUser)?"primary":"secondary",onClick:ae,children:(null==D?void 0:D.likeCount)?(0,o.jsx)("span",{className:d()["review-actions__vote-count"],children:null==D?void 0:D.likeCount}):"مفید بود"}),ee&&!S&&!g&&!b&&(0,o.jsx)(C(),{color:"secondary",variant:"outline",label:"پاسخ به مشتری",size:q?"xs":"xxs",icon:(0,t.Z)("bi-edit-square",d()["review-actions__icon"]),onClick:l,className:d()["review-actions__item"]}),!ee&&R&&s.isPublic&&!ie&&(0,o.jsx)(C(),{color:"secondary",label:"مشورت",className:d()["review-actions__item"],variant:"outline",size:q?"xs":"xxs",icon:(0,t.Z)("bi-chats",d()["review-actions__icon"]),onClick:de}),re&&(0,o.jsx)("div",{className:(0,t.Z)(d()["review-actions__history-count"],d()["review-actions__item"]),children:(0,o.jsx)(C(),{color:"secondary",variant:"outline",iconPosition:"center-end",label:oe,size:q?"xs":"xxs",icon:(0,t.Z)("bi-angle-down",d()["review-actions__icon"]),onClick:O})}),L&&(0,o.jsx)(I,{isShown:!0,onDelete:j,reviewId:s.id,onClose:function(){return H(!1)}}),F&&(0,o.jsx)(P,{isShown:!0,review:_object_spread_props(_object_spread({},s),{product:a}),onEditReview:Z,onClose:function(){return Y(!1)}})]})}Z.propTypes={review:b.N,product:b.k,isSlide:c().bool,onReply:c().func,onDelete:c().func,hasAnswer:c().bool,newReply:c().string,isReplying:c().bool,onEditReview:c().func,showReviewHistory:c().func,isShowConversation:c().bool,isShowReviewHistory:c().bool};var O=(0,x.memo)(Z),M=r(2347);function R(e){var i,r,n,s=e.review,a=e.product,c=e.isSlide,l=e.newReply,u=e.isReplying,_=e.isShowConversation,v=void 0===_||_,p=e.isShowReviewHistory,w=void 0===p||p,f=(0,h.b)().ua.isPc,y=(0,m.M_)(["currentUser","isLoggedIn","userId"]),b=y.currentUser,j=y.userId,g=_sliced_to_array((0,x.useState)(s),2),k=g[0],S=g[1];(0,x.useEffect)((function(){S(s)}),[s]);var P=null==a||null===(i=a.vendor)||void 0===i?void 0:i.id,I=!!b&&!!P&&P===(null===(r=b.vendor)||void 0===r?void 0:r.id),Z=j===(null==s||null===(n=s.user)||void 0===n?void 0:n.id),O=w&&(null==s?void 0:s.historyCount)>1,R="".concat(null==s?void 0:s.historyCount," تجربه");return(0,o.jsxs)("div",{className:(0,t.Z)("ignore-review-click",d()["review-actions"],_define_property({},d()["review-actions--is-slide"],c)),children:[Z&&(0,o.jsx)(N(),{name:"bi-more-v",className:d()["review-actions__item"]}),!Z&&(0,o.jsx)(C(),{color:"secondary",variant:"outline",size:f?"xs":"xxs",icon:(0,t.Z)("bi-report-content",d()["review-actions__icon"]),className:d()["review-actions__item"]}),(0,o.jsx)(C(),{variant:"outline",size:f?"xs":"xxs",className:(0,t.Z)(d()["review-actions__vote-btn"],d()["review-actions__item"]),icon:(0,t.Z)("bi-like-thumb",d()["review-actions__icon"]),color:(null==k?void 0:k.isLikedByCurrentUser)?"primary":"secondary",children:(null==k?void 0:k.likeCount)?(0,o.jsx)("span",{className:d()["review-actions__vote-count"],children:null==k?void 0:k.likeCount}):"مفید بود"}),I&&!u&&0===s.answers.length&&!l&&(0,o.jsx)(C(),{color:"secondary",variant:"outline",label:"پاسخ به مشتری",size:f?"xs":"xxs",className:d()["review-actions__item"],icon:(0,t.Z)("bi-edit-square",d()["review-actions__icon"])}),!I&&v&&s.isPublic&&!Z&&(0,o.jsx)(C(),{color:"secondary",label:"مشورت",component:M.Z,variant:"outline",className:d()["review-actions__item"],size:f?"xs":"xxs",icon:(0,t.Z)("bi-chats",d()["review-actions__icon"])}),O&&(0,o.jsx)("div",{className:(0,t.Z)(d()["review-actions__history-count"],d()["review-actions__item"]),children:(0,o.jsx)(C(),{color:"secondary",variant:"outline",iconPosition:"center-end",label:R,size:f?"xs":"xxs",icon:(0,t.Z)("bi-angle-down",d()["review-actions__icon"])})})]})}R.propTypes={review:b.N,product:b.k,isSlide:c().bool,newReply:c().string,isReplying:c().bool,isShowConversation:c().bool,isShowReviewHistory:c().bool};var z=(0,x.memo)(R),E=function(e){var i=e.isPreview,r=_object_without_properties(e,["isPreview"]);return i?(0,o.jsx)(z,_object_spread({},r)):(0,o.jsx)(O,_object_spread({},r))}},25375:function(e,i,r){"use strict";var o=r(32930),t=r(40877),n=r(27434),s=r(50874),a=r.n(s),c=r(2347),l=r(49211),d=r.n(l),u=r(5164),_=r(42789),v=r(44492),p=r(45835),w=r(34641),m=r(55253),f=r.n(m),h=r(834),y=r.n(h);function b(e){var i,r,n,s,a,l,_=e.review,m=e.isShowUser,h=e.isShowProductItem,b=e.onCloseModal,x=(0,p.b)().ua.isPc,j=(null===(r=_.user)||void 0===r||null===(i=r.avatar)||void 0===i?void 0:i.url)||(null===(s=_.user)||void 0===s||null===(n=s.photo)||void 0===n?void 0:n.small);return(0,o.jsxs)("div",{className:(0,t.Z)([d().rci,_define_property({},d()["rci--without-avatar"],!m)]),children:[(0,o.jsxs)("div",{className:d()["rci__horizontal-container"],children:[m&&(0,o.jsx)("div",{className:d().rci__profile,children:_.isPublic?(0,o.jsx)(c.Z,{onClickFirstPriority:!!b,onClick:b,href:(0,w.j)(_.user),children:(0,o.jsx)(f(),{size:x?"64":"44",src:j,lazy:!0})}):(0,o.jsx)(f(),{size:x?"64":"44",src:j,lazy:!0})}),(0,o.jsxs)("div",{className:d()["rci__horizontal-info"],children:[(0,o.jsxs)("div",{className:d()["rci__horizontal-info-name-and-date"],children:[(0,o.jsxs)("div",{children:[m&&(0,o.jsx)("div",{className:d().rci__name,children:_.isPublic?(0,o.jsx)(c.Z,{onClickFirstPriority:!!b,onClick:b,href:(0,w.j)(_.user),children:_.user?_.user.name:"کاربر مهمان"}):(0,o.jsx)("span",{children:_.user?_.user.name:"کاربر مهمان"})}),(0,o.jsx)("div",{className:d().rci__rate,children:(0,o.jsx)(y(),{value:_.star||0,color:"black",readOnly:!0,size:"sm"})})]}),!!_.createdAt&&(0,o.jsx)("div",{className:d().rci__date,children:(0,o.jsx)("span",{children:(0,u.jalaliDate)(_.createdAt).format("D MMMM YYYY")})})]}),!!(null===(a=_.variationMetadata)||void 0===a?void 0:a.properties)&&!h&&x&&(0,o.jsx)(v.Z,{isShowColor:!0,isHorizontal:!0,size:"md",className:d().rci__variation,properties:_.variationMetadata.properties})]})]}),!!(null===(l=_.variationMetadata)||void 0===l?void 0:l.properties)&&!h&&!x&&(0,o.jsx)(v.Z,{size:"sm",className:d().rci__variation,properties:_.variationMetadata.properties})]})}b.propTypes={review:_.N,isShowUser:a().bool,isShowProductItem:a().bool},i.Z=(0,n.memo)(b)},80928:function(e,i,r){"use strict";r.d(i,{Z:function(){return U}});var o=r(32930),t=r(40877),n=r(2389),s=r.n(n),a=r(50874),c=r.n(a),l=r(27271),d=r.n(l),u=r(15092),_=r.n(u),v=r(5164),p=r(25375),w=r(36735),m=r(6941),f=r(10976),h=r(13699),y=r(65074),b=r.n(y),x=r(76303),j=r.n(x),C=r(45835),g=r(86721),k=r.n(g),S=r(17902),N=r(36350),P=r(58271),I=r(88592),Z=r(81174),O=r.n(Z),M=r(27434),R=r(82623);function z(e){var i=e.reviewId,r=e.answerIdentifier,n=e.onReply,s=e.onCancel,a=e.context,c=void 0===a?"":a,l=_sliced_to_array((0,M.useState)(c),2),d=l[0],u=l[1],_=_sliced_to_array((0,M.useState)(r||null),2),p=_[0],w=_[1],m=(0,M.useRef)(null),f=(0,N.useSnackbar)(),h=f.hideSnackbar,y=f.showSuccessSnackbar,x=(0,I.M_)(["currentUser"]).currentUser;(0,M.useEffect)((function(){var e;null===(e=m.current)||void 0===e||e.focus()}),[]),(0,M.useEffect)((function(){w(r)}),[r]);var j=(0,S.Db)({onError:P.S_,mutationFn:R.TG,onSuccess:function(e){var i=_object_spread_props(_object_spread({},e),{id:null==e?void 0:e.id,user:x,description:d,createdAt:(0,v.gregoryDate)().format("YYYY-MM-DD HH:mm:ss")});null==n||n(i)}}),C=j.mutate,g=j.isLoading,Z=(0,S.Db)({onError:P.S_,mutationFn:R.Cu,onSuccess:function(e){w(e.id);var i=_object_spread_props(_object_spread({},e),{id:null==e?void 0:e.id,user:x,description:d,createdAt:(0,v.gregoryDate)().format("YYYY-MM-DD HH:mm:ss")});y("پاسخت با موفقیت ویرایش شد.",{title:"",action:{type:"text",label:"فهمیدم",onClick:function(e){return h(e)}}}),null==n||n(i)}}),z=Z.mutate,E=Z.isLoading,T=(0,M.useCallback)((function(){c?z({answerId:p,description:d}):C({id:i,description:d})}),[c,z,p,d,i,C]);return(0,o.jsxs)("div",{className:k().reply,children:[(0,o.jsx)(O(),{ref:m,isMultiline:!0,placeholder:"پاسخت رو اینجا بنویس.",value:d,wrapperClassName:k()["reply__input-container"],onChange:function(e){return u(e.target.value)},rows:"1",autoSize:"true"}),(0,o.jsxs)("div",{className:k().reply__footer,children:[(0,o.jsx)(b(),{variant:"outline",label:"انصراف",onClick:s,size:"xs",className:k()["reply__footer-cancel"]}),(0,o.jsx)(b(),{size:"xs",label:"ثبت ",loading:g||E,disabled:!d.trim(),onClick:T,className:(0,t.Z)(k().ban__btn,k()["reply__footer-submit"])})]})]})}z.propTypes={onReply:c().func,onCancel:c().func,context:c().string,reviewId:c().number};var E=(0,M.memo)(z),T=r(42789),D=s()((function(){return r.e(6142).then(r.bind(r,46142))}),{loadableGenerated:{webpack:function(){return[46142]}},ssr:!1});function A(e){var i,r,n,s,a,c,l=e.review,u=e.product,y=e.isSlide,x=e.isModal,g=e.noBorder,k=e.isShowAction,S=e.className,N=void 0===S?"":S,P=e.isPreview,I=void 0!==P&&P,Z=e.isShowUser,O=void 0===Z||Z,R=e.isShowProductItem,z=e.onClick,T=void 0===z?function(){}:z,A=e.onDelete,U=void 0===A?function(){}:A,L=e.onCloseModal,H=void 0===L?function(){}:L,B=e.isShowAttachments,F=void 0===B||B,Y=e.isShowConversation,q=void 0!==Y&&Y,K=_sliced_to_array((0,M.useState)(l),2),V=K[0],W=K[1],J=_sliced_to_array((0,M.useState)(null),2),X=J[0],G=J[1],Q=_sliced_to_array((0,M.useState)(null),2),$=Q[0],ee=Q[1],ie=_sliced_to_array((0,M.useState)(!0),2),re=ie[0],oe=ie[1],te=_sliced_to_array((0,M.useState)(!1),2),ne=te[0],se=te[1],ae=_sliced_to_array((0,M.useState)(!1),2),ce=ae[0],le=ae[1],de=_sliced_to_array((0,M.useState)((null===(i=V.answers)||void 0===i?void 0:i.length)>0),2),ue=de[0],_e=de[1],ve=V.description||"",pe=_sliced_to_array((0,M.useMemo)((function(){return(0,v.trimText)(ve,0,223,223)}),[ve]),2),we=pe[0],me=pe[1],fe=(0,C.b)().ua.isPc,he=V.photo&&(null===(r=V.photoLarge)||void 0===r?void 0:r.url);(0,M.useEffect)((function(){W(l)}),[l]),(0,M.useEffect)((function(){var e;_e((null===(e=V.answers)||void 0===e?void 0:e.length)>0)}),[null===(n=V.answers)||void 0===n?void 0:n.length]);var ye=(0,M.useMemo)((function(){var e,i;return(null===(e=l.variationMetadata)||void 0===e?void 0:e.properties)?null===(i=l.variationMetadata)||void 0===i?void 0:i.properties:d()(l.variationMetadata)?l.variationMetadata.flatMap((function(e){return e.properties})):void 0}),[l]),be=(0,M.useCallback)((function(e){setTimeout((function(){ee(!1),G(e)}),0)}),[]),xe=(0,t.Z)(N,_()["review-card"],(_define_property(c={},_()["review-card--is-pc"],fe),_define_property(c,_()["review-card--is-modal"],x),_define_property(c,_()["review-card--is-slide"],y),_define_property(c,_()["review-card--has-photo"],he),_define_property(c,_()["review-card--no-border"],g),_define_property(c,_()["review-card--has-product"],R),_define_property(c,_()["review-card--many-tags"],V.reasons&&V.reasons.length>3),c)),je=(0,M.useCallback)((function(){return setTimeout((function(){se(!1)}),0)}),[]),Ce=(0,M.useCallback)((function(){return setTimeout((function(){se(!0)}),0)}),[]),ge=(0,M.useCallback)((function(){setTimeout((function(){oe(!1),null==U||U()}),0)}),[U]),ke=(0,M.useCallback)((function(){return setTimeout((function(){ee(!0)}),0)}),[]),Se=(0,M.useCallback)((function(){return setTimeout((function(){ee(!1)}),0)}),[]),Ne=(null==V?void 0:V.historyCount)>1;return re&&(0,o.jsxs)("div",{tabIndex:0,role:"button",onClick:T,onKeyDown:T,className:xe,id:"review-".concat(V.id),children:[R&&(0,o.jsx)(h.Z,{product:u,className:_()["review-card__product"],variationProperties:ye}),(0,o.jsx)(p.Z,{isShowUser:O,review:V,isShowProductItem:R,onCloseModal:H}),(0,o.jsxs)("div",{className:(0,t.Z)(_define_property({},_()["review-card__body--is-slide"],y)),children:[(0,o.jsxs)("div",{className:_()["review-card__context"],children:[(null==V||null===(s=V.description)||void 0===s?void 0:s.length)>0&&(0,o.jsxs)("div",{className:_()["review-card__context-description"],children:[me&&!ce?(0,o.jsx)("p",{className:_()["review-card__context-description-txt"],children:"".concat(we," ...")}):(0,o.jsx)("p",{className:_()["review-card__context-description-txt"],children:ve}),6409===V.status&&(0,o.jsxs)("div",{className:_()["review-card__context-description-txt--is-edited"],children:[(0,o.jsx)(j(),{name:"bi-edit-square"}),(0,o.jsx)("span",{className:_()["review-card__context-description-txt--is-edited-title"],children:"ویرایش شده"})]}),(0,o.jsx)("div",{className:_()["review-card__more"],children:me&&(0,o.jsx)(b(),{size:"xxs",variant:"text",color:"secondary",onClick:function(){le((function(e){return!e}))},className:_()["review-card__body-btn"],children:ce?"مشاهده کمتر":"مشاهده بیشتر"})})]}),F&&(0,o.jsx)(f.Z,{isSlide:y,isModal:x,attachments:V.attachments,onClick:function(){},className:_()["review-card__context-attachments"]})]}),k&&(0,o.jsx)(m.Z,{isPreview:I,review:V,isSlide:y,newReply:X,isReplying:$,product:u||V.product,isShowConversation:q,onReply:ke,onDelete:ge,showReviewHistory:Ce,onEditReview:function(e){_e(!1),W((function(i){return _object_spread({},i,e)}))},hasAnswer:ue}),(!!X||!!V.answers[0])&&!$&&(0,o.jsx)("div",{className:_()["review-card__reply"],children:(0,o.jsx)(w.Z,{reviewReply:X||V.answers[0],vendorId:null==u||null===(a=u.vendor)||void 0===a?void 0:a.id,onDeleteItem:function(){_e(!1),G(null)},onEdit:function(e){ee(!0),G(e)}})}),$&&(0,o.jsx)(E,{isPreview:I,answerIdentifier:null==X?void 0:X.id,isSlide:y,onReply:be,onCancel:Se,context:null==X?void 0:X.description,reviewId:null==V?void 0:V.id}),k&&Ne&&!I&&ne&&(0,o.jsx)(D,{show:!0,product:u,review:V,onClose:je})]})]})}A.propTypes={review:T.N,product:T.k,isSlide:c().bool,isModal:c().bool,onClick:c().func,noBorder:c().bool,isShowUser:c().bool,isShowAction:c().bool,isShowProductItem:c().bool,isShowAttachments:c().bool};var U=(0,M.memo)(A)},13699:function(e,i,r){"use strict";var o=r(32930),t=r(40877),n=r(50874),s=r.n(n),a=r(2347),c=r(27434),l=r(21352),d=r.n(l),u=r(5164),_=r(42789),v=r(53278),p=r.n(v),w=r(22480),m=r(44492);function f(e){var i=e.product,r=e.className,n=e.isPriceAbsolute,s=e.isShowVariation,l=void 0===s||s,_=(0,c.useMemo)((function(){var e,r,o;return(null===(e=i.photo)||void 0===e?void 0:e.url)||(null===(r=i.photo)||void 0===r?void 0:r.sm)||(null===(o=i.photo)||void 0===o?void 0:o.small)}),[i]),v=l&&!!i.variation,f=(0,t.Z)(d().rpi__price,n&&d()["rpi__price--absolute"]);return(0,o.jsxs)(a.Z,{className:(0,t.Z)(d().rpi,r),href:(0,w.f)(i),children:[(0,o.jsxs)("div",{className:d()["rpi__img-and-title"],children:[(0,o.jsx)(p(),{lazy:!0,alt:"product",withPlaceHolder:!0,className:d()["rpi__img-container"],imageClass:d().rpi__img,src:_}),(0,o.jsxs)("div",{className:d().rpi__content,children:[(0,o.jsx)("div",{className:d().rpi__title,children:i.title}),!v&&(0,o.jsxs)("div",{className:f,children:[(0,u.rialToToman)(i.price,{separator:!0}),(0,o.jsx)("i",{className:"bi bi-toman"})]})]})]}),v&&(0,o.jsx)(m.Z,{isHorizontal:!0,properties:i.variation.properties})]})}f.propTypes={product:_.k,className:s().string,isShowVariation:s().bool,isPriceAbsolute:s().bool},i.Z=(0,c.memo)(f)},25118:function(e){e.exports={"review-actions":"DTHjgX","review-actions__dropdown-popover":"hVrgLy","review-actions__dropdown-popover-item":"xBo6gr","review-actions__history-count":"tmqKCx","review-actions__item":"Ff4p5F","review-actions__vote-btn":"FpZXI_","review-actions__vote-count":"rw5q6j","review-actions__icon":"Xd767L"}},49211:function(e){e.exports={rci:"vjcQWC","rci--without-avatar":"_Mm8qJ","rci__horizontal-info":"m7EJHG","rci__horizontal-info-name-and-date":"UxGx9M","rci__horizontal-container":"Ee9yOO",rci__profile:"M5_F8C",rci__name:"Rqze5j",rci__rate:"_4rePWQ",rci__variation:"Vgz1fk","rci__variation-name":"TEUCry","rci__variation--has-history":"iTg4qt",rci__date:"eN4XZm","rci__history-line":"RgsKk_"}},86721:function(e){e.exports={reply:"qkvL8i","reply__input-container":"shD0ca",reply__footer:"UIrU9C","reply__footer-submit":"Bi_CCl","reply__footer-cancel":"w8XqDA",reply__body:"IV0fpa"}},15092:function(e){e.exports={"review-card":"eN63l8","review-card__context":"nkJy9o","review-card__body--is-slide":"_2_hrK2","review-card__product":"gDAu9o","review-card__variation":"M1UFBt","review-card__context-description":"_0JhO82","review-card__context-description-txt":"_9wz1OZ","review-card__context-description-txt--is-edited":"dgd5Nh","review-card__context-description-txt--is-edited-title":"bokmwH","review-card__context-attachments":"_6JvKK7","review-card__body-btn":"Noc07k","review-card__tags":"wkW07B","review-card__tag":"UN3W_z","review-card__reply":"eviunJ","review-card--is-slide":"AtWb8t","review-card__body":"XdoqpJ","review-card--many-tags":"wweJ7h","review-card--has-body":"s_0W0n","review-card__image":"sPsPDh","review-card--is-pc":"_9ltxo8","review-card--no-border":"VqUuAS","review-card--is-modal":"Cidpcp"}},21352:function(e){e.exports={rpi:"e9_jKY","rpi__img-container":"rTsELi",rpi__content:"DsFLFZ",rpi__title:"_3D1E2A","rpi__content-detail":"_3hX4mL",rpi__price:"ABB1kX","rpi__price--absolute":"_1K0EuR","rpi__img-and-title":"hTwLY0"}}}]);