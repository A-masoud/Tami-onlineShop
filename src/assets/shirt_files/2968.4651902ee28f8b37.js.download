function _array_like_to_array(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function _define_property(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _iterable_to_array_limit(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){_define_property(e,r,t[r])}))}return e}function _sliced_to_array(e,r){return _array_with_holes(e)||_iterable_to_array_limit(e,r)||_unsupported_iterable_to_array(e,r)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,r){if(e){if("string"==typeof e)return _array_like_to_array(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_array_like_to_array(e,r):void 0}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2968,6404],{40228:function(e,r,t){"use strict";var n=t(32930),a=t(69389),i=t(50874),o={children:i.node,className:i.string,sm:i.oneOfType([i.number,i.object]),xs:i.oneOfType([i.number,i.object]),md:i.oneOfType([i.number,i.object]),lg:i.oneOfType([i.number,i.object]),xl:i.oneOfType([i.number,i.object]),xx:i.oneOfType([i.number,i.object])},s=function(e){var r=e.className,t=e.children,i=e.xs,o=e.sm,s=e.md,d=e.lg,c=e.xl,l=e.xx;return n.jsx("div",{className:a.clsx(r,function(){var e={xs:i,sm:o,md:s,lg:d,xl:c,xx:l},r=[];for(var t in e){var n=e[t],a="xs"===t?"":"-".concat(t),u={};"number"==typeof n?u.size=Number(n):"object"==typeof n&&(u=_object_spread({},u,n)),0===u.size?r.push("d-".concat(t,"-none")):void 0!==u.size&&u.size>0&&r.push("bs-col".concat(a,"-").concat(u.size)),u.order&&r.push("bs-order".concat(a,"-").concat(u.order)),u.offset&&r.push("bs-offset".concat(a,"-").concat(u.offset))}return r.length>0?r:["bs-col"]}()),children:t})};s.propTypes=o,s.displayName="BsCol";var d={noGutter:i.bool,children:i.node,className:i.string},c=function(e){var r=e.noGutter,t=e.children,i=e.className;return n.jsx("div",{className:a.clsx("bs-row",{"bs-row--no-gutter":r},i),children:t})};c.propTypes=d,c.displayName="BsGrid",c.Col=s,e.exports=c},31364:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return be}});var n=t(32930),a=t(40877),i=t(2389),o=t.n(i),s=t(2347),d=t(94286),c=t.n(d),l=t(36350),u=t(43231),p=t(84581),_=t(94287),h=t(11219),v=t(74495),x=t(61262),f=t(33918),m=t(40463),b=t(59777),j=t(22593),y=t(55253),N=t.n(y),g=t(65074),w=t.n(g),S=t(177),Z=t.n(S),I=t(53278),k=t.n(I),P=t(70437),C=t.n(P),T=t(1103),E=t.n(T),O=function(){window.scrollTo({top:0,behavior:"smooth"})};function A(){var e=(0,l.useSnackbar)().showErrorSnackbar,r=(0,x.B)().dalan.openChatModal,t=(0,j.S)("#pdp-primary-sections").isShow,i=(0,m.G)(),o=i.product,d=i.isLoading,y=i.quantityInCart,g=i.selectedVariant,S=i.productStatusInCart,I=i.productPageStatus,P=i.refetchProductStatusInCart,T=(0,b.M)({productId:null==o?void 0:o.id,resourceCount:"number-of-sales-per-product"}).data,A=(void 0===T?{}:T).result,V=g?g.stock:null==o?void 0:o.inventory,F=(null==o?void 0:o.isSaleable)&&V>0,G=g?g.price:null==o?void 0:o.price,L=g?g.primaryPrice:null==o?void 0:o.primaryPrice,R=I===f.FP.UNAVAILABLE,B=I===f.FP.VENDOR_INACTIVE,z=I===f.FP.ACTIVE,M=I===f.FP.ZERO_INVENTORY,q=function(){var e,t,n,a,i,s,d,c,l,u,_,h,v;o&&(r(null===(t=o.vendor)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.hashId,{attachedProductId:o.id,hasProductForWebview:{id:o.id,price:o.price,vendorId:null===(n=o.vendor)||void 0===n?void 0:n.id,primaryPrice:o.primaryPrice,title:o.title||o.name,userId:(null===(i=o.vendor)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.id)||(null===(d=o.vendor)||void 0===d||null===(s=d.owner)||void 0===s?void 0:s.id),picture:(null===(c=o.photo)||void 0===c?void 0:c.md)||(null===(l=o.photo)||void 0===l?void 0:l.original)||(null===(u=o.photo)||void 0===u?void 0:u.url)}}),(0,p.s)("chatOpen",{comesFrom:"pdp",productId:o.id,receiverIsVendor:!0,receiverVendorId:null===(_=o.vendor)||void 0===_?void 0:_.id,receiverId:null===(v=o.vendor)||void 0===v||null===(h=v.user)||void 0===h?void 0:h.id}))},H=function(){var r,t=(0,v._s)(o.variants).join(" و ");e("اول ".concat(t," محصول را انتخاب کن.")),null===(r=document.querySelector("#pdp-cta"))||void 0===r||r.scrollIntoView({block:"center",behavior:"smooth"})};return(0,n.jsx)(_.default,{scrollMode:"static",slotAppend:(0,n.jsx)(E(),{mounted:t,duration:300,transition:"fade",children:function(e){var r,t,i,l,p,_,v,x;return(0,n.jsx)("div",{className:c()["header-cta"],style:e,children:(0,n.jsx)(Z(),{children:(0,n.jsxs)("div",{className:c()["header-cta__inner"],children:[(0,n.jsxs)("div",{className:c()["header-cta__inner-product"],onClick:O,children:[d?(0,n.jsx)(C(),{className:c()["header-cta__inner-product-photo"]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(k(),{className:c()["header-cta__inner-product-photo"],src:null===(r=o.photo)||void 0===r?void 0:r.xs,alt:o.title,ratio:1}),!z&&(0,n.jsx)("div",{className:(0,a.Z)(c()["header-cta__inner-product-photo-layer"],_define_property({},c()["header-cta__inner-product-photo-layer--unavailable"],R)),children:R&&(0,n.jsx)(k(),{className:c()["header-cta__inner-product-photo-icon"],ratio:1,src:"https://statics.basalam.com/public-98/admin/lAB6a/06-21/xztYxvKEuZO1fvrGw1C39edd2Q2dRZCFi9sUHgOmN6GqIEc7er.SVG"})})]}),d?(0,n.jsx)(C(),{height:21,className:c()["header-cta__inner-product-title"]}):(0,n.jsx)("span",{className:c()["header-cta__inner-product-title"],children:o.title})]}),(0,n.jsxs)("div",{className:c()["header-cta__inner-cta"],children:[d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C(),{width:80,height:24,className:c()["header-cta__inner-cta-price"]}),(0,n.jsx)(C(),{radius:8,width:162,height:48}),(0,n.jsx)(C(),{radius:8,width:191,height:48,className:c()["header-cta__inner-cta-chat"]})]}),F&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:c()["header-cta__inner-cta-price"],children:(0,n.jsx)(u.Z,{price:G,primaryPrice:L})}),(0,n.jsx)(h.Z,{size:"lg",hasStepper:!0,product:o,isShowSuccessToast:!0,label:"افزودن به سبد خرید",variationId:null==g?void 0:g.id,variationErrorHandler:H,productStatusInCart:S,stock:null!==(x=null==g?void 0:g.stock)&&void 0!==x?x:o.stock,quantityInCart:y,onChange:function(){return P()},productSalesCount:A}),y>0&&(0,n.jsx)(w(),{square:!0,href:"/cart",component:s.Z,icon:"bi-shopping-cart",className:c()["header-cta__inner-cta-cart"]}),(0,n.jsxs)(w(),{label:"گفت‌وگو",color:"secondary",variant:"outline",className:c()["header-cta__inner-cta-chat"],onClick:q,children:[(0,n.jsx)(N(),{src:(null===(l=o.vendor)||void 0===l||null===(i=l.user)||void 0===i||null===(t=i.avatar)||void 0===t?void 0:t.sm)||"",size:"28"}),(0,n.jsx)("span",{className:c()["header-cta__inner-cta-chat-text"],children:"گفت‌وگو با غرفه‌دار"})]})]}),B&&(0,n.jsx)("span",{className:c()["header-cta__inner-cta-offline"],children:"غرفه غیر فعاله"}),(R||M)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:c()["header-cta__inner-cta-offline"],children:R?" محصول در دسترس نیست":"محصول ناموجوده"}),(0,n.jsxs)(w(),{label:"گفت‌وگو",color:"secondary",variant:"outline",className:c()["header-cta__inner-cta-chat"],onClick:q,children:[(0,n.jsx)(N(),{src:(null===(v=o.vendor)||void 0===v||null===(_=v.user)||void 0===_||null===(p=_.avatar)||void 0===p?void 0:p.sm)||"",size:"28"}),(0,n.jsx)("span",{className:c()["header-cta__inner-cta-chat-text"],children:"گفت‌وگو با غرفه‌دار"})]})]})]})]})})})}})})}var V=t(83929),F=t(25729),G=t(75171),L=t.n(G),R=t(14155),B=t(81433),z=t.n(B),M=t(67731);function q(e){var r,t=e.scrollToSimilarProducts,i=(0,m.G)(),o=i.product,s=i.isLoading,d=i.productPageStatus,c=(0,j.S)("#pdp-vendor",{rootMargin:"-94px"}).isShow,l=d===f.FP.ACTIVE;return(0,n.jsxs)("div",{className:(0,a.Z)(L()["pdp-fixed-cta"],_define_property({},L()["pdp-fixed-cta--show"],c)),children:[l&&(0,n.jsxs)("div",{className:L()["pdp-fixed-cta__product"],children:[s?(0,n.jsx)(C(),{className:L()["pdp-fixed-cta__product-photo"]}):(0,n.jsx)("img",{className:L()["pdp-fixed-cta__product-photo"],src:null===(r=o.photo)||void 0===r?void 0:r.sm,alt:o.title}),s?(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)(C(),{width:"100%",height:25}),(0,n.jsx)(z(),{mt:4,children:(0,n.jsx)(C(),{width:"70%",height:25})})]}):(0,n.jsx)("span",{className:L()["pdp-fixed-cta__product-title"],children:o.title})]}),!l&&(0,n.jsx)(M.Z,{}),(0,n.jsx)(V.Z,{isInFixedCta:!0,scrollToSimilarProducts:t}),(0,n.jsx)(R.Z,{isInFixedCta:!0})]})}var H=t(29189),U=t(75012),D=t.n(U),Y=t(7748),X=t(90996),J=t(91279),K=t(15363),Q=t(5164),W=t(4340),$=t(26491),ee=t(44902),re=t(41844),te=t(18627),ne=t(26612),ae=t(3156),ie=t(2220),oe=t(45835),se=t(88107),de=t(67734),ce=o()((function(){return Promise.all([t.e(5437),t.e(9338)]).then(t.bind(t,79346))}),{loadableGenerated:{webpack:function(){return[79346]}},ssr:!0}),le=o()((function(){return t.e(5738).then(t.bind(t,85338))}),{loadableGenerated:{webpack:function(){return[85338]}},ssr:!1}),ue=o()((function(){return t.e(9777).then(t.bind(t,69777))}),{loadableGenerated:{webpack:function(){return[69777]}},ssr:!1}),pe=o()((function(){return Promise.all([t.e(246),t.e(9187),t.e(5807),t.e(3658)]).then(t.bind(t,22517))}),{loadableGenerated:{webpack:function(){return[22517]}},ssr:!1}),_e=o()((function(){return Promise.all([t.e(9187),t.e(3994)]).then(t.bind(t,57343))}),{loadableGenerated:{webpack:function(){return[57343]}},ssr:!1}),he=(0,$.Z)({on:["visible"]})(ce),ve=(0,$.Z)({on:["visible"]})(le),xe=(0,$.Z)({on:["visible"]})(ue),fe=(0,$.Z)({on:["visible"]})(pe),me=(0,$.Z)({on:["visible"]})(_e);function be(){var e,r,t=(0,oe.b)().isServerRendered,i=(0,m.G)().productPageStatus,o=_sliced_to_array((0,de.U)(["reviews","vendor_other_product","listing","social_proof"]),4),s=o[0],d=o[1],c=o[2],l=o[3],u=(0,se.Z)().query||{},_=u.vendorIdentifier,h=u.productId,v=(0,ee.j)(Number(h),_),x=v.data,b=v.isLoading,j=v.isError,y=function(){(0,Q.scrollToElement)("#pdp-related-product"),(0,p.s)("pdpSimilarProductButtonClick",{keepthis:null,productPageStatus:i})},N=i===f.FP.ACTIVE,g=i!==f.FP.ILLEGAL,w=i!==f.FP.VENDOR_INACTIVE;return(0,n.jsxs)("div",{className:D()["pdp-desktop"],children:[g&&(0,n.jsx)(A,{}),(0,n.jsxs)(z(),{pt:16,children:[(0,n.jsx)(re.Z,{}),(0,n.jsx)(ae.v,{children:(0,n.jsxs)("div",{className:D()["pdp-desktop__body"],id:"pdp-primary-sections",children:[!g&&(0,n.jsx)(J.Z,{}),g&&(0,n.jsxs)("div",{className:D()["pdp-desktop__right"],children:[!N&&(0,n.jsx)(J.Z,{}),N&&(0,n.jsx)(K.Z,{}),(0,n.jsx)(X.Z,{}),(0,n.jsx)(F.Z,{}),s&&(0,n.jsx)(he,{isServerRendered:!t})]}),g&&(0,n.jsxs)("div",{className:(0,a.Z)(D()["pdp-desktop__left"],_define_property({},D()["pdp-desktop__left--not-active"],!N)),children:[N&&(0,n.jsx)(Y.Z,{}),N&&(0,n.jsx)(W.Z,{}),!N&&(0,n.jsx)(M.Z,{}),(0,n.jsx)(V.Z,{scrollToSimilarProducts:y}),N&&(0,n.jsx)(H.Z,{}),l&&(0,n.jsx)(te.Z,{}),l&&(0,n.jsx)(ne.Z,{}),N&&(0,n.jsx)(ie.Z,{}),(0,n.jsx)(R.Z,{}),N&&(0,n.jsx)(q,{scrollToSimilarProducts:y})]})]})}),g&&(0,n.jsx)(me,{isServerRendered:!t}),d&&g&&w&&!j&&(b||(null==x||null===(e=x.shelves)||void 0===e?void 0:e.resultCount)>0)&&(0,n.jsx)(ve,{isServerRendered:!t}),c&&g&&w&&!j&&(b||(null==x||null===(r=x.wishlist)||void 0===r?void 0:r.resultCount)>0)&&(0,n.jsx)(xe,{isServerRendered:!t}),(0,n.jsx)("div",{id:"pdp-related-product",children:(0,n.jsx)(fe,{isServerRendered:!t})})]})]})}},75171:function(e){e.exports={"pdp-fixed-cta":"ZSiYdK","pdp-fixed-cta--show":"cBZy7J","pdp-fixed-cta__product":"bTihv0","pdp-fixed-cta__product-photo":"b0pTsV","pdp-fixed-cta__product-title":"JlXg8P"}},94286:function(e){e.exports={"header-cta":"o3ebIS","header-cta__inner":"O8XHqU","header-cta__inner-product":"VnHJLd","header-cta__inner-product-photo":"_7MiVXy","header-cta__inner-product-photo-layer":"nEwC1c","header-cta__inner-product-photo-layer--unavailable":"TRs4SQ","header-cta__inner-product-photo-icon":"xUU23n","header-cta__inner-product-title":"A3_Nn1","header-cta__inner-cta":"HMvEBI","header-cta__inner-cta-price":"Xts5HZ","header-cta__inner-cta-cart":"_5YoP4n","header-cta__inner-cta-offline":"Fr2K8v","header-cta__inner-cta-chat":"T6x6oZ","header-cta__inner-cta-chat-text":"u3Q_Lu"}},75012:function(e){e.exports={"pdp-desktop":"pDywHa","pdp-desktop__body":"Y9AB6M","pdp-desktop__right":"GVWDL9","pdp-desktop__left":"GPLTsZ","pdp-desktop__left--not-active":"_0nlBEa"}}}]);