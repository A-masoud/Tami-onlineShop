"use strict";function _array_like_to_array(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array(e)}function asyncGeneratorStep(e,r,t,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void t(e)}u.done?r(l):Promise.resolve(l).then(n,o)}function _async_to_generator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){asyncGeneratorStep(i,n,o,a,u,"next",e)}function u(e){asyncGeneratorStep(i,n,o,a,u,"throw",e)}a(void 0)}))}}function _define_property(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterable_to_array_limit(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){_define_property(e,r,t[r])}))}return e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _object_spread_props(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e}function _sliced_to_array(e,r){return _array_with_holes(e)||_iterable_to_array_limit(e,r)||_unsupported_iterable_to_array(e,r)||_non_iterable_rest()}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||_unsupported_iterable_to_array(e)||_non_iterable_spread()}function _unsupported_iterable_to_array(e,r){if(e){if("string"==typeof e)return _array_like_to_array(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_array_like_to_array(e,r):void 0}}function _ts_generator(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{53793:function(e,r,t){t.d(r,{d:function(){return i}});var n=t(79614),o=t(5164);function i(e){return n.Sq.post("",(0,o.snakize)(e))}},96929:function(e,r,t){t.d(r,{bt:function(){return a},rX:function(){return i},yh:function(){return u}});var n=t(5164),o=t(79614),i=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.DZ.get("/web/v1/pdp/".concat(e),_object_spread_props(_object_spread({},t),{isLightCamelCase:!0,params:(0,n.snakize)({vendorIdentifier:r})}))},a=function(e,r,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.DZ.get("/web/v1/vendor",_object_spread_props(_object_spread({},i),{isLightCamelCase:!0,params:(0,n.snakize)({identifier:e,identifiers:e,count:r,lastRank:t})}))},u=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.DZ.get("/web/v1/pgp/".concat(e),_object_spread_props(_object_spread({},r),{isLightCamelCase:!0}))}},44902:function(e,r,t){t.d(r,{T:function(){return u},j:function(){return l}});var n=t(17902),o=t(79268),i=t(96929),a=t(35942),u=function(e){var r,t,n,i,u,l,d,s,c,v,p,f,g,_,m,y,b,h,I,C,w,S,P,j,A,E,L;return _object_spread_props(_object_spread({},e),{bnpl:200===(null===(r=e.bnpl)||void 0===r?void 0:r.backendHttpStatusCode)?e.bnpl:void 0,badge:200===(null===(t=e.badge)||void 0===t?void 0:t.backendHttpStatusCode)?e.badge:void 0,shelves:200===(null===(n=e.shelves)||void 0===n?void 0:n.backendHttpStatusCode)?e.shelves:void 0,wishlist:200===(null===(i=e.wishlist)||void 0===i?void 0:i.backendHttpStatusCode)?e.wishlist:void 0,navigation:200===(null===(u=e.navigation)||void 0===u?void 0:u.backendHttpStatusCode)?e.navigation:void 0,reviewsummary:200===(null===(l=e.reviewsummary)||void 0===l?void 0:l.backendHttpStatusCode)?e.reviewsummary:void 0,core:200===(null===(d=e.core)||void 0===d?void 0:d.backendHttpStatusCode)?_object_spread_props(_object_spread({},e.core),{isFreightCollect:(0,a.G)(null==e?void 0:e.core),stock:null!==(E=null==e||null===(s=e.core)||void 0===s?void 0:s.stock)&&void 0!==E?E:null==e||null===(c=e.core)||void 0===c?void 0:c.inventory,hasVariation:null!==(L=null==e||null===(v=e.core)||void 0===v?void 0:v.hasVariation)&&void 0!==L?L:(null==e||null===(f=e.core)||void 0===f||null===(p=f.variants)||void 0===p?void 0:p.length)>0,shippingArea:(null==e||null===(g=e.core)||void 0===g?void 0:g.shippingArea)||(null==e||null===(m=e.core)||void 0===m||null===(_=m.vendor)||void 0===_?void 0:_.availableCities)||[]}):void 0,review:200===(null===(y=e.review)||void 0===y?void 0:y.backendHttpStatusCode)?_object_spread_props(_object_spread({},e.review),{groups:null===(h=e.review)||void 0===h||null===(b=h.productReviewsGroup)||void 0===b?void 0:b.groups,average:null===(C=e.review)||void 0===C||null===(I=C.productReviewsGroup)||void 0===I?void 0:I.starsAverage,vendorReviewGroup:(null===(w=e.review)||void 0===w?void 0:w.vendorReviewsGroup)||{},starsTotalCount:null===(P=e.review)||void 0===P||null===(S=P.productReviewsGroup)||void 0===S?void 0:S.starsTotalCount,reviews:(null===(A=e.review)||void 0===A||null===(j=A.reviews)||void 0===j?void 0:j.map((function(e){return(0,o.NE)(e)})))||[]}):void 0})},l=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,n.aM)(["pdp",e,r],(function(){return(0,i.rX)(e,r)}),_object_spread_props(_object_spread({},t),{select:u}))}},59777:function(e,r,t){t.d(r,{M:function(){return i}});var n=t(17902),o=t(79723),i=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.aM)(["product-sales-count",e.productId,e.resourceCount],(function(){return(0,o.Gq)(e)}),_object_spread({},r))}},40463:function(e,r,t){t.d(r,{j:function(){return F},G:function(){return N}});var n=t(32930),o=t(58271),i=t(44902),a=t(88592),u=t(82809),l=t(88107),d=t(33918),s=t(60802),c=t(35180),v=t(59777),p=t(74495),f=t(27434),g=t(41581),_=t(17902),m=t(71511),y=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,_.aM)(["product-status-in-cart",e],(function(){return(0,m.Ov)(e)}),_object_spread({cacheTime:5e3},r))};function b(e){var r=e.productId,t=(0,a.M_)(["currentUser","isLoggedIn"]),n=t.currentUser,o=t.isLoggedIn,i=_sliced_to_array((0,f.useState)([]),2),u=i[0],l=i[1],d=y(r,{enabled:!!n}),s=(0,f.useCallback)((function(){l((0,g.om)(r))}),[r]);return(0,f.useEffect)((function(){o||s()}),[n,r]),o?d:{isLoading:!1,data:u,refetch:s}}var h=t(67392),I=t(48679),C=t(53793),w=t(82857),S=t(15885),P=t(43914),j=t(90947),A=t(78738),E=t(5164);function L(){return L=_async_to_generator((function(e,r,t){var n,i,a,u;return _ts_generator(this,(function(l){switch(l.label){case 0:if(!(n=E.bsLocalStorage.getItem("ads-".concat(e.id))))return[2];i=null,a=document.referrer,/\/s/g.test(a)&&(i=(0,I.parseURL)(a).query.q),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,C.d)({offerId:n,pageId:null,positionId:null,contentId:e.id,hitAt:(new Date).toISOString(),meta:JSON.stringify((0,E.snakize)({rank:null,query:i,client:(0,j.y)(),userId:(null==r?void 0:r.id)||0,purchaseCount:t||0,xUserSession:h.Z.get("bs-xUserSession")}))})];case 2:return l.sent(),E.bsLocalStorage.removeItem("ads-".concat(e.id)),[3,4];case 3:return u=l.sent(),(0,o.ac)(u,{showToast:!1}),[3,4];case 4:return[2]}}))})),L.apply(this,arguments)}var k=(0,f.createContext)({}),D={category:{},attributeGroups:[],vendor:{owner:{},status:{}}},O=function(e,r){var t=(0,c.d)().showErrorPage,n=(0,i.j)(e,r),a=n.data,u=n.isLoading,l=n.error;(0,f.useEffect)((function(){if(l){var e=(0,o.Pt)(l);t(422===e.statusCode?404:e.statusCode||500)}}),[l,t]);var d=(0,f.useMemo)((function(){return(null==a?void 0:a.core)?_object_spread_props(_object_spread({},null==a?void 0:a.core),{breadcrumbs:null==a?void 0:a.navigation}):_object_spread({id:e},null==a?void 0:a.navigation,D)}),[e,null==a?void 0:a.navigation,null==a?void 0:a.core]),s=b({productId:e}),v=s.data,p=s.isLoading,g=s.refetch;return{product:d,pdpData:a,pdpLoading:u,isLoadedSocialProof:!u,productStatusInCart:v,isProductStatusLoading:p,refetchProductStatusInCart:g}},T=function(e,r,t){var n,o=_sliced_to_array((0,f.useState)(),2),i=o[0],a=o[1],u=_sliced_to_array((0,f.useState)(!1),2),l=u[0],d=u[1],s=(0,f.useMemo)((function(){return(0,p.tC)(null==e?void 0:e.variants,i)}),[null==e?void 0:e.variants,i]);return(0,f.useEffect)((function(){var n,o;!i&&(null===(n=t.query)||void 0===n?void 0:n.variationId)&&(0,p.tC)(null==e?void 0:e.variants,t.query.variationId)?a(Number(t.query.variationId)):(null==r?void 0:r.length)>0&&!i&&a(null===(o=r[0])||void 0===o?void 0:o.variationId)}),[r,null===(n=t.query)||void 0===n?void 0:n.variationId,null==e?void 0:e.variants,i]),{selectedVariant:s,selectedVariantId:i,setSelectedVariantId:a,isVariationErrorShown:l,setIsVariationErrorShown:d}},V=function(e,r){var t=(0,f.useRef)(null),n=(0,f.useRef)(null),o=(0,f.useCallback)((function(){var i={pageType:"PDP",entityId:e,activeSeconds:r};document.hidden?t.current&&(clearTimeout(t.current),t.current=null,n.current=null):t.current||(t.current=setTimeout((function(){n.current=e,(0,E.publishEvent)("pageActiveEngagement",i),document.removeEventListener("visibilitychange",o)}),1e3*r))}),[e,r]);(0,f.useEffect)((function(){return e&&r&&(null==n?void 0:n.current)!==e&&(document.addEventListener("visibilitychange",o),o()),function(){clearTimeout(t.current),t.current=null,n.current=null,document.removeEventListener("visibilitychange",o)}}),[e,r,o])},N=function(){return(0,f.useContext)(k)};function F(e){var r,t,o,i,c,g,_,m=e.children,y=(0,l.Z)(),h=Number(y.query.productId),I=(y.query||{}).vendorIdentifier,C=(0,f.useRef)(null),j=(0,a.M_)(["currentUser","typeOfUser","orderCount"]),D=j.typeOfUser,N=j.currentUser,F=j.orderCount,U=(0,s.l)(),M=U.runGBTest,R=U.getFeatureValue,G=(0,f.useMemo)((function(){return R("active_engagement_seconds")||0}),[R]),B=O(h,I),q=B.product,x=B.breadcrumbsLoading,H=B.pdpLoading,Z=B.pdpData,z=(0,v.M)({productId:h,resourceCount:"number-of-sales-per-product"}),Y=z.data,K=(void 0===Y?{}:Y).result,X=z.isLoading,J=b({productId:h}),Q=J.data,W=J.isLoading,$=J.refetch,ee=T(q,Q,y),re=ee.selectedVariant,te=ee.selectedVariantId,ne=ee.setSelectedVariantId,oe=ee.isVariationErrorShown,ie=ee.setIsVariationErrorShown;V(h,G);var ae=(0,f.useMemo)((function(){return null==Q?void 0:Q.find((function(e){return(0,p.KB)(e.variationId,te)}))}),[Q,te]),ue=(null==ae?void 0:ae.quantity)||0,le=(0,f.useMemo)((function(){return H?d.FP.ACTIVE:(0,u.Z)(q,null==q?void 0:q.vendor)}),[H,q]);(0,f.useEffect)((function(){(null==q?void 0:q.id)&&($(),ne(void 0),ie(!1))}),[q,$,ie,ne]),(0,f.useEffect)((function(){var e,r,t,n,o,i,a,u,l,s,c,v,f,g;!q||H||X||(null==C?void 0:C.current)===h||(C.current=h,function(e){var r=e.product,t=e.bnplCount,n=e.typeOfUser,o=e.orderCount,i=e.salesCount,a=e.currentUser,u=e.realDiscount,l=e.vendorBadges,s=e.socialProofItems;try{(function(e){var r,t,n,o,i,a,u,l,s,c,v,f,g,_,m,y,b,h,I,C,P,j,L,k,D,O,T,V,N,F,U,M,R,G,B,q,x,H=e.product,Z=e.bnplCount,z=e.typeOfUser,Y=e.orderCount,K=e.salesCount,X=e.realDiscount,J=e.vendorBadges,Q=e.socialProofItems,W=(null===(t=H.category)||void 0===t||null===(r=t.parent)||void 0===r?void 0:r.parent)||{},$=(null===(n=H.category)||void 0===n?void 0:n.parent)||{},ee=H.category||{},re=(0,A.r)(H),te={salesCount:K,price:H.price,productName:H.title,productHasBnpl:!!Z,rating:H.rating||0,createdAt:H.createdAt,productId:Number(H.id),isSaleable:H.isSaleable,hasVideo:!!(null===(o=H.video)||void 0===o?void 0:o.url),vendorName:null==H||null===(i=H.vendor)||void 0===i?void 0:i.name,categoryName:W.title,category_2Name:$.title,category_3Name:ee.title,vendorScore:!!(null==H||null===(a=H.vendor)||void 0===a?void 0:a.score),isFreeShipping:H.isFreeShipping,preparationDays:H.preparationDay,vendorId:Number(H.vendor.id)||0,inventory:Number(H.inventory)||0,vendorStatus:null==H||null===(l=H.vendor)||void 0===l||null===(u=l.status)||void 0===u?void 0:u.value,vendorCityName:null==H||null===(c=H.vendor)||void 0===c||null===(s=c.city)||void 0===s?void 0:s.title,ratingCount:Number(H.reviewCount)||0,imageCount:((null===(v=H.photos)||void 0===v?void 0:v.length)||0)+1,vendorIdentifier:null==H||null===(f=H.vendor)||void 0===f?void 0:f.identifier,vendorSalesCount:null==H||null===(g=H.vendor)||void 0===g?void 0:g.salesCount,promotionEndTime:(null==X?void 0:X.endTime)||"",promotion:X?"real_discount":"",primaryPrice:H.primaryPrice||void 0,categoryId:Number(W.id)||void 0,category_2Id:Number($.id)||void 0,category_3Id:Number(ee.id)||void 0,vendorCityId:(null==H||null===(m=H.vendor)||void 0===m||null===(_=m.city)||void 0===_?void 0:_.id)||void 0,vendorProvinceId:null==H||null===(h=H.vendor)||void 0===h||null===(b=h.city)||void 0===b||null===(y=b.province)||void 0===y?void 0:y.value,vendorProvinceName:null==H||null===(P=H.vendor)||void 0===P||null===(C=P.city)||void 0===C||null===(I=C.province)||void 0===I?void 0:I.name,vendorOnlineStatus:(0,S.D)(null===(L=H.vendor)||void 0===L||null===(j=L.user)||void 0===j?void 0:j.lastActivity),discountPercent:(0,E.getDiscountPercent)(H.primaryPrice,H.price),vendorIsActive:(null===(D=H.vendor)||void 0===D||null===(k=D.status)||void 0===k?void 0:k.value)===d.IU.ACTIVE,aovFromVendorForFreeShipping:(null===(O=H.vendor)||void 0===O?void 0:O.freeShippingToIran)||void 0,vendorLastActivity:(0,E.gregoryDate)(null==H||null===(T=H.vendor)||void 0===T?void 0:T.lastActivity).format("YYYY-MM-DD HH:mm:ss"),promotionRemainingSeconds:(null==X?void 0:X.endTime)?(0,w.j)(null==X?void 0:X.endTime):0,remainingAovForFreeShipping:H.vendor.freeShippingToIran-H.price>0?H.vendor.freeShippingToIran-H.price:0,freeShippingArea:(null==re||null===(V=re.iran)||void 0===V?void 0:V.available)?"سراسر ایران":(null==re||null===(N=re.city)||void 0===N?void 0:N.available)?null===(M=H.vendor)||void 0===M||null===(U=M.city)||void 0===U||null===(F=U.province)||void 0===F?void 0:F.name:"",metaData:{productVideo:(null===(R=H.video)||void 0===R?void 0:R.url)||"",productPhotos:[null===(G=H.photo)||void 0===G?void 0:G.md].concat(_to_consumable_array(((null==H?void 0:H.photos)||[]).map((function(e){return(null==e?void 0:e.md)||""}))))},productViewStatus:H.canAddToCart&&H.isAvailable&&H.isSaleable&&H.vendor.status.value===d.IU.ACTIVE?"موجود":"ناموجود"};(0,E.publishEvent)("productView",_object_spread_props(_object_spread({},te),{typeOfUser:z,orderCount:Y,productStatus:null==H||null===(B=H.status)||void 0===B?void 0:B.value,productIsAvailable:null==H?void 0:H.isAvailable,socialProofCount:null==Q?void 0:Q.length,hasSizeVariation:(0,p.xL)(H),hasColorVariation:(0,p.Vi)(H),comesFromPage:E.bsLocalStorage.getItem("comesFromPage"),comesFromMeta:E.bsLocalStorage.getItem("comesFromMeta"),socialProofIds:Q.map((function(e){return e.id})),comesFromComponent:E.bsLocalStorage.getItem("comesFromComponent"),hasSaleBadge:J.some((function(e){return e.groupId===d.ek.BEST_SELLER})),hasVendorScoreBadge:J.some((function(e){return e.groupId===d.ek.TOP_VENDOR})),hasReviewBadge:J.some((function(e){return e.groupId===d.ek.FIVE_START_REVIEW})),productLastUpdate:H.updatedAt?(0,E.gregoryDate)().diff((0,E.gregoryDate)(H.updatedAt),"d"):null,vendorLastActivityDaysAgo:(null===(q=H.vendor)||void 0===q?void 0:q.lastActivity)?(0,E.gregoryDate)().diff((0,E.gregoryDate)(null===(x=H.vendor)||void 0===x?void 0:x.lastActivity),"d"):null}))})({product:r,bnplCount:t,typeOfUser:n,orderCount:o,salesCount:i,realDiscount:u,vendorBadges:l,socialProofItems:s}),function(e,r,t){L.apply(this,arguments)}(r,a,o),function(e,r){var t,n={salesCount:r,id:e.id,price:e.price,stock:e.stock,rating:e.rating,isSaleable:e.isSaleable,isFreeShipping:e.isFreeShipping,vendor:{salesCount:e.vendor.orderCount}};e.category&&(n.category={id:e.category.id,parentId:null===(t=e.category.parent)||void 0===t?void 0:t.id});window.product=n}(r,i),(0,P.b)("productDetail",r)}catch(e){console.warn(e)}}({product:q,typeOfUser:D,orderCount:F,salesCount:K,currentUser:N,vendorBadges:[],bnplCount:null==Z||null===(e=Z.bnpl)||void 0===e?void 0:e.count,realDiscount:null==Z||null===(o=Z.badge)||void 0===o||null===(n=o.data)||void 0===n||null===(t=n.badges)||void 0===t||null===(r=t.realDiscount)||void 0===r?void 0:r[0],socialProofItems:(null==Z||null===(u=Z.badge)||void 0===u||null===(a=u.data)||void 0===a||null===(i=a.badges)||void 0===i?void 0:i.socialProof)||[]}),M("pdp_aa_test",!0,{metadata:{product_id:h,category_3_id:null===(l=q.category)||void 0===l?void 0:l.id,category_2_id:null===(c=q.category)||void 0===c||null===(s=c.parent)||void 0===s?void 0:s.id,category_id:null===(g=q.category)||void 0===g||null===(f=g.parent)||void 0===f||null===(v=f.parent)||void 0===v?void 0:v.id}}))}),[h,H,N,q,H,null==Z||null===(o=Z.badge)||void 0===o||null===(t=o.data)||void 0===t||null===(r=t.badges)||void 0===r?void 0:r.socialProof,null==Z||null===(g=Z.badge)||void 0===g||null===(c=g.data)||void 0===c||null===(i=c.badges)||void 0===i?void 0:i.realDiscount,null==Z||null===(_=Z.bnpl)||void 0===_?void 0:_.count,D,F,M,K,X]);var de=(0,f.useMemo)((function(){return{product:q,productId:h,isLoading:H,statusInCart:ae,quantityInCart:ue,selectedVariant:re,productPageStatus:le,selectedVariantId:te,breadcrumbsLoading:x,setSelectedVariantId:ne,isVariationErrorShown:oe,isProductStatusLoading:W,setIsVariationErrorShown:ie,refetchProductStatusInCart:$}}),[q,h,H,ae,ue,re,le,te,x,ne,oe,W,ie,$]);return(0,n.jsx)(k.Provider,{value:de,children:m})}},82809:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(33918);function o(e,r){var t,o;return(null==e||null===(t=e.status)||void 0===t?void 0:t.value)===n.PB.ILLEGAL?n.FP.ILLEGAL:(null==r||null===(o=r.status)||void 0===o?void 0:o.value)===n.IU.ACTIVE?(null==e?void 0:e.isAvailable)?(null==e?void 0:e.isSaleable)?n.FP.ACTIVE:n.FP.ZERO_INVENTORY:n.FP.UNAVAILABLE:n.FP.VENDOR_INACTIVE}},78738:function(e,r,t){t.d(r,{V:function(){return i},r:function(){return o}});var n=t(33918);function o(e){var r,t,o,i,a,u,l,d,s,c,v,p,f,g={absolute:!1,iran:{value:0,available:!1},city:{value:0,available:!1}};if(!(null===(r=e.freeShipping)||void 0===r?void 0:r.result)||(null===(t=e.locationDeployment)||void 0===t?void 0:t.value)===n.C.FULFILLMENT_CENTER)return g;var _=null===(i=e.freeShipping)||void 0===i||null===(o=i.metaData)||void 0===o?void 0:o.illegals,m=null===(l=e.freeShipping)||void 0===l||null===(u=l.metaData)||void 0===u||null===(a=u.limits)||void 0===a?void 0:a.toIran;(null==_?void 0:_.fromIran)||null===m||(g.iran.available=!0,g.iran.value=m>=1e3?m:0,g.absolute=e.price>=m);var y=null===(c=e.freeShipping)||void 0===c||null===(s=c.metaData)||void 0===s||null===(d=s.limits)||void 0===d?void 0:d.toSameCity;if((null==_?void 0:_.fromSameCity)||null===y||(g.city.available=!0,g.city.value=y>=1e3?y:0),(null===(v=e.shippingArea)||void 0===v?void 0:v.length)>0){g.iran.available=!1;var b=null===(f=e.vendor)||void 0===f||null===(p=f.city)||void 0===p?void 0:p.value;g.city.available=e.shippingArea.some((function(e){return e.value===b}))}return e.isFreightCollect&&(g.absolute=!1,g.city.available=!1,g.iran.available=!1),g}function i(e){var r,t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null==i||null===(r=i.city)||void 0===r?void 0:r.id,u=null===(n=e.vendor)||void 0===n||null===(t=n.city)||void 0===t?void 0:t.value,l=o(e),d=e.isSaleable&&e.isAvailable&&e.canAddToCart&&l.absolute;if(null==i||!i.id||!a||u!==a)return d;var s=l.city.value,c=l.city.available&&s<e.price;return d&&c}},79268:function(e,r,t){function n(e){return{data:e,properties:null==e?void 0:e.flatMap((function(e){return e.properties}))}}function o(e){var r,t,o,i,a,u=e.variationMetadata,l=u?n(u):null;return{id:e.itemId,variationMetadata:l,price:e.itemPrice,itemCount:e.itemQuantity,invoiceId:e.itemInvoiceId,orderPaidAt:e.orderPaidAt||e.paidAt,product:{price:e.price,id:e.productId,primaryPrice:e.primaryPrice,name:e.itemTitle||e.title,title:e.itemTitle||e.title,rating:{rating:null},variation:u?l:null,category:{id:e.product.categoryId},photo:{url:null===(r=e.product.photo)||void 0===r?void 0:r.small},photos:null!==(a=e.product.photos)&&void 0!==a?a:[{resized:{sm:null===(t=e.product.photo)||void 0===t?void 0:t.small}}],vendor:{id:e.vendorId,name:e.vendorTitle||(null===(o=e.product)||void 0===o?void 0:o.vendorTitle),identifier:e.vendorIdentifire||(null===(i=e.product)||void 0===i?void 0:i.vendorIdentifier)}}}}function i(e){var r,t,o,i,a=e.variationMetadata,u=a?n(a):null;return{id:e.id,star:e.star,variationMetadata:u,status:e.status,hashId:e.hashId,isPublic:e.isPublic,reasons:e.reasonIds,createdAt:e.createdAt,productId:e.productId,likeCount:e.likeCount,description:e.description,dislikeCount:e.dislikeCount,attachments:e.attachments||[],historyCount:e.historyCount||1,user:function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{name:e.name,hashId:e.hashId,username:e.username,id:e.id||t.userId,avatar:(null===(r=e.photo)||void 0===r?void 0:r.small)?{url:e.photo.small}:null}}(e.user||{},e),isLikedByCurrentUser:e.isLikedByCurrentUser,isDislikedByCurrentUser:e.isDislikedByCurrentUser,photoLarge:(null===(r=e.photo)||void 0===r?void 0:r.large)?{url:e.photo.large}:null,answers:(e.answers||[]).map((function(e){return function(e){var r,t=e.user||{};return{id:e.id,status:e.status,createdAt:e.createdAt,description:e.description,likeCount:e.likeCount||0,user:{id:t.id,name:t.name,hashId:t.hashId,username:t.username,avatar:(null===(r=t.photo)||void 0===r?void 0:r.medium)?_object_spread({url:t.photo.medium},t.photo):null}}}(e)})),photo:(null===(t=e.photo)||void 0===t?void 0:t.medium)?_object_spread({url:e.photo.medium},e.photo):null,product:{id:(o=e.product||{}).id,name:o.productName,title:o.productName,price:o.price||o.primaryPrice,photo:(null===(i=o.photo)||void 0===i?void 0:i.small)?{url:o.photo.small}:null,vendor:{id:o.vendorId,name:o.vendorTitle,identifier:o.vendorIdentifire||o.vendorIdentifier},variation:a?u:null}}}function a(e){var r,t,n;return _object_spread_props(_object_spread({},e),{groups:null===(r=e.productReviewsGroup)||void 0===r?void 0:r.groups,average:null===(t=e.productReviewsGroup)||void 0===t?void 0:t.starsAverage,vendorReviewGroup:e.vendorReviewsGroup||{},starsTotalCount:null===(n=e.productReviewsGroup)||void 0===n?void 0:n.starsTotalCount,reviews:e.reviews.map((function(e){return i(e)}))})}function u(e){return{totalCount:e.totalCount,resultCount:e.resultCount,reviews:e.unreviewedItems.map((function(e){return o(e)}))}}function l(e){return _object_spread_props(_object_spread({},e),{pages:e.pages.map((function(e){return _object_spread_props(_object_spread({},e),{reviews:e.reviews.map((function(e){return _object_spread_props(_object_spread({},e),{variationMetadata:n(e.variationMetadata)})}))})}))})}t.d(r,{FM:function(){return u},Li:function(){return a},NE:function(){return i},dS:function(){return o},wd:function(){return l}})},90947:function(e,r,t){function n(){return navigator?{user_info:window.isLoggedIn?window.currentUser:null,name:window.clientName,online:navigator.onLine,platform:navigator.platform,languages:navigator.languages,user_agent:navigator.userAgent,app_version:navigator.appVersion}:{}}t.d(r,{y:function(){return n}})},15885:function(e,r,t){t.d(r,{D:function(){return o},S:function(){return i}});var n=t(5164);function o(e){if(!e)return"offline";var r=(0,n.gregoryDate)().diff(e)/6e4;return r<5?"online":r<30?"recently":"offline"}function i(e){if(!e)return"";var r=o(e);return"online"===r?"غرفه‌دار آنلاینه":"recently"===r?"غرفه‌دار به تازگی آنلاین بوده":"آخرین بازدید ".concat((0,n.jalaliDate)(e).fromNow())}}}]);