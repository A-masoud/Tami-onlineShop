function _array_like_to_array(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}function _array_with_holes(e){if(Array.isArray(e))return e}function _define_property(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function _iterable_to_array_limit(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,n,s=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(s.push(t.value),!r||s.length!==r);o=!0);}catch(e){l=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw n}}return s}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(r){_define_property(e,r,a[r])}))}return e}function ownKeys(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function _object_spread_props(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})),e}function _sliced_to_array(e,r){return _array_with_holes(e)||_iterable_to_array_limit(e,r)||_unsupported_iterable_to_array(e,r)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,r){if(e){if("string"==typeof e)return _array_like_to_array(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_array_like_to_array(e,r):void 0}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7314],{59775:function(e,r,a){"use strict";a.d(r,{Z:function(){return y}});var t=a(32930),n=a(40877),s=a(2389),o=a.n(s),l=a(41889),c=a.n(l),i=a(81433),u=a.n(i),d=a(36350),_=a(28030),h=a(27434),m=a(88107),f=a(60802),b={src:"https://basalam.com/_next/static/media/header-logotype.5b1447ff.svg"},p=o()((function(){return Promise.all([a.e(973),a.e(9600),a.e(246),a.e(3731),a.e(4691),a.e(1290)]).then(a.bind(a,60297))}),{loadableGenerated:{webpack:function(){return[60297]}},ssr:!1});function y(e){var r,a=e.className,s=e.isShowSearch,o=(0,m.Z)(),l=(0,d.useEmitter)().subEvent,i=(0,f.l)().getFeatureValue,y=_sliced_to_array((0,h.useState)(!1),2),j=y[0],x=y[1],v=(0,h.useMemo)((function(){return"yes"===i("image_search")}),[i]),g=(0,h.useCallback)((function(){return x(!0)}),[]),N=(0,h.useCallback)((function(){return x(!1)}),[]);return l("search-focus",(function(){x(!0)})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,n.Z)(c()["mobile-search-field__search"],a),children:[(0,t.jsx)("div",{className:c()["mobile-search-field__search-input"],onClick:g,children:(0,t.jsxs)(u(),{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",children:[(0,t.jsx)("i",{className:(0,n.Z)("bi-search",c()["mobile-search-field__search-icon"])}),(null===(r=o.query)||void 0===r?void 0:r.q)?(0,t.jsx)("span",{className:c()["mobile-search-field__search-text"],children:o.query.q}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:c()["mobile-search-field__search-placeholder-text"],children:"جست‌وجو در"}),(0,t.jsx)("img",{className:c()["mobile-search-field__search-placeholder-logo"],src:b.src,alt:"باسلام"})]})]})}),v&&(0,t.jsx)(p,{})]}),s&&(0,t.jsx)(_.Z,{show:j,onClose:N})]})}},37314:function(e,r,a){"use strict";a.r(r);var t=a(32930),n=a(40877),s=a(50874),o=a.n(s),l=a(53175),c=a.n(l),i=a(81433),u=a.n(i),d=a(61033),_=a(45835),h=a(59775),m=a(27434);function f(e){var r=e.title,a=e.onBack,s=e.actions,o=e.className,l=e.slotOuter,i=e.slotAppend,f=e.slotPrepend,b=e.isShowSearch,p=e.removeBorder,y=(0,_.b)(),j=y.isWebview,x=y.ua,v=(0,m.useRef)(),g=_sliced_to_array((0,m.useState)(58),2),N=g[0],O=g[1];return(0,m.useEffect)((function(){d.Z.init(c(),j||x.isIOS?"static":"dynamic")}),[j,x]),(0,m.useEffect)((function(){var e;O((null===(e=v.current)||void 0===e?void 0:e.offsetHeight)||58)}),[v]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{id:"header-placeholder",style:{height:"".concat(N,"px")},className:c()["header-placeholder"]}),(0,t.jsxs)("header",{className:(0,n.Z)(c().header,_define_property({},c()["header--not-bordered"],p)),id:"header",ref:v,children:[(0,t.jsxs)("div",{className:(0,n.Z)(c()["header-body"],o),children:[f,a&&(0,t.jsx)("button",{className:c()["header-body__back"],onClick:a,"aria-label":"برگشت",children:(0,t.jsx)("i",{className:"bi-right"})}),r&&(0,t.jsx)("h2",{className:c()["header-body__title"],children:r}),b&&(0,t.jsx)(h.Z,{isShowSearch:b}),s&&(0,t.jsx)(u(),{display:"flex",alignItems:"center",justifyContent:"flex-end",className:c()["header-body__actions"],children:null==s?void 0:s.map((function(e,r){return(0,t.jsx)("button",_object_spread_props(_object_spread({className:c()["header-body__actions-btn"],onClick:e.onClick,"aria-label":e.label||"عملیات"},s.attrs||{}),{children:(0,t.jsx)("i",{className:(0,n.Z)(e.icon,e.className),"data-badge":e.data})}),r)}))}),i]}),l,(0,t.jsx)("div",{id:"header-mobile--outer"})]})]})}f.displayName="HeaderMobile",f.propTypes={onBack:o().func,title:o().string,slotAppend:o().node,slotPrepend:o().node,isShowSearch:o().bool,actions:o().arrayOf(o().shape({icon:o().string.isRequired,onClick:o().func.isRequired}))},r.default=(0,m.memo)(f)},28030:function(e,r,a){"use strict";a.d(r,{Z:function(){return x}});var t=a(32930),n=a(40877),s=a(2389),o=a.n(s),l=a(19611),c=a.n(l),i=a(36350),u=a(92034),d=a.n(u),_=a(34087),h=a.n(_),m=a(88107),f=a(29723),b=a(27434),p=a(40402),y=o()((function(){return a.e(9e3).then(a.bind(a,99e3))}),{loadableGenerated:{webpack:function(){return[99e3]}},ssr:!1}),j=o()((function(){return a.e(5625).then(a.bind(a,15625))}),{loadableGenerated:{webpack:function(){return[15625]}},ssr:!1});function x(e){var r=e.show,a=e.onClose,s=(0,b.useRef)(null),o=(0,m.Z)(),l=_sliced_to_array((0,b.useState)(""),2),u=l[0],_=l[1],x=_sliced_to_array((0,b.useState)(!1),2),v=x[0],g=x[1],N=(0,i.useEmitter)().subEvent,O=_sliced_to_array((0,b.useState)(""),2),w=O[0],C=O[1],S=(0,f.Kp)(["isIosApp"]).isIosApp,k=(0,b.useCallback)((function(e){_(e)}),[]),P=(0,p.F)(k,1e3,"postpone"),E=P.debouncedHandler,Z=P.isLoading,T=(0,b.useRef)("PRODUCTS"),R=_sliced_to_array((0,b.useState)(!1),2),D=R[0],A=R[1],F=(0,b.useCallback)((function(e){null==e||e.preventDefault(),A(!1);var r="VENDORS"===T.current?"/".concat(T.current.toLowerCase()):"";setTimeout((function(){null==a||a()}),250),setTimeout((function(){o.push("/s".concat(r,"?q=").concat(w))}),500)}),[a,w]),q=(0,b.useCallback)((function(e){C(e.target.value),E(e.target.value)}),[]),M=(0,b.useCallback)((function(e){T.current=e,w.length>0?setTimeout((function(){F()}),0):setTimeout((function(){A(!1)}),0)}),[w.length,F]),V=(0,b.useCallback)((function(){setTimeout((function(){A(!1)}),0)}),[]),I=(0,b.useCallback)((function(){setTimeout((function(){A(!0)}),0)}),[]);return N("search-focus",(function(){setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.select()}),300)})),(0,b.useEffect)((function(){var e;T.current=o.route.includes("/vendors")?"VENDORS":"PRODUCTS";var r=(null===(e=o.query)||void 0===e?void 0:e.q)||"";w!==r&&q({target:{value:r}})}),[o.query,o.route]),(0,b.useEffect)((function(){a()}),[o.asPath]),(0,b.useEffect)((function(){if(r){setTimeout((function(){return g(!0)}),500);var e=0;return function r(){e+=1,s.current&&document.activeElement!==s.current?(s.current.focus(),document.activeElement!==s.current&&e<20&&setTimeout(r,100)):e<20&&setTimeout(r,100)}(),function(){e=20}}g(!1)}),[r]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d(),{className:(0,n.Z)("dataset-inp-SearchModal",c()["search-modal"]),isPlain:!0,show:r,isFullScreen:!0,onClose:a,bodyClass:c()["search-modal__body"],children:[(0,t.jsxs)("div",{className:c()["search-modal__header"],children:[(0,t.jsx)("button",{className:c()["search-modal__header-back"],onClick:a,"aria-label":"برگشت",children:(0,t.jsx)("i",{className:"bi-right"})}),(0,t.jsxs)("div",{className:c()["search-modal__header-box"],children:[(0,t.jsx)("form",{onSubmit:F,className:c()["search-modal__header-box-form"],children:(0,t.jsx)("input",{ref:s,autoFocus:!0,autoComplete:"off",className:(0,n.Z)(c()["search-modal__header-box-input"],_define_property({},c()["search-modal__header-box-input--ios"],S)),value:w,onChange:q})}),(0,t.jsxs)("button",{className:c()["search-modal__header-box-select"],onClick:I,"aria-label":"انتخاب نوع جست‌وجو",children:[(0,t.jsx)("i",{className:(0,n.Z)("bi-angle-down",c()["search-modal__header-box-select-icon"])}),(0,t.jsx)("span",{children:"PRODUCTS"===T.current?"محصولات":"غرفه‌ها"})]})]})]}),v&&(0,t.jsxs)("div",{className:c()["search-modal__suggestions"],children:[(0,t.jsx)(j,{isLoading:Z,query:u,className:c()["search-modal__suggestion"],onClose:a}),(0,t.jsx)(y,{className:c()["search-modal__suggestion"],onClose:a})]})]}),D&&(0,t.jsx)(d(),{show:!0,className:"dataset-inp-SearchModalBasedOn",hideOtherModals:!1,onClose:V,title:"جست‌وجو بر اساس",children:(0,t.jsxs)(h().Group,{value:T.current,onChange:M,children:[(0,t.jsx)("div",{className:c()["types-modal__item"],children:(0,t.jsx)(h(),{value:"PRODUCTS",label:(0,t.jsx)("span",{className:c()["types-modal__item-label"],children:"محصولات"})})}),(0,t.jsx)("div",{className:c()["types-modal__item"],children:(0,t.jsx)(h(),{value:"VENDORS",label:(0,t.jsx)("span",{className:c()["types-modal__item-label"],children:"غرفه‌ها"})})})]})})]})}},41889:function(e){e.exports={"mobile-search-field__search":"cyRCTO","mobile-search-field__search-input":"uPMvFo","mobile-search-field__search-icon":"D_fOZ7","mobile-search-field__search-text":"iXawd7","mobile-search-field__search-placeholder-text":"F__oHi","mobile-search-field__search-placeholder-logo":"j7ngtX"}},19611:function(e){e.exports={"search-modal":"lBwVQO","search-modal__body":"nKFZFN","search-modal__header":"txzU6X","search-modal__header-back":"ZRlV_g","search-modal__header-box":"vl1Z_W","search-modal__header-box-form":"zMxW2M","search-modal__header-box-input":"nXQAZz","search-modal__header-box-input--ios":"pRjjXO","search-modal__header-box-select":"P9xnVn","search-modal__header-box-select-icon":"MVpEWR","search-modal__suggestions":"MJj0Uk","types-modal__item":"h8mKAP","types-modal__item-label":"jQFtif","types-modal__item-label-icon":"eCDVw8"}}}]);