function _array_like_to_array(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function _array_with_holes(t){if(Array.isArray(t))return t}function _define_property(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function _iterable_to_array_limit(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,i,r=[],a=!0,s=!1;try{for(e=e.call(t);!(a=(o=e.next()).done)&&(r.push(o.value),!n||r.length!==n);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==e.return||e.return()}finally{if(s)throw i}}return r}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),o.forEach((function(n){_define_property(t,n,e[n])}))}return t}function ownKeys(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function _object_spread_props(t,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t}function _sliced_to_array(t,n){return _array_with_holes(t)||_iterable_to_array_limit(t,n)||_unsupported_iterable_to_array(t,n)||_non_iterable_rest()}function _unsupported_iterable_to_array(t,n){if(t){if("string"==typeof t)return _array_like_to_array(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_array_like_to_array(t,n):void 0}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6480],{40228:function(t,n,e){"use strict";var o=e(32930),i=e(69389),r=e(50874),a={children:r.node,className:r.string,sm:r.oneOfType([r.number,r.object]),xs:r.oneOfType([r.number,r.object]),md:r.oneOfType([r.number,r.object]),lg:r.oneOfType([r.number,r.object]),xl:r.oneOfType([r.number,r.object]),xx:r.oneOfType([r.number,r.object])},s=function(t){var n=t.className,e=t.children,r=t.xs,a=t.sm,s=t.md,c=t.lg,u=t.xl,l=t.xx;return o.jsx("div",{className:i.clsx(n,function(){var t={xs:r,sm:a,md:s,lg:c,xl:u,xx:l},n=[];for(var e in t){var o=t[e],i="xs"===e?"":"-".concat(e),d={};"number"==typeof o?d.size=Number(o):"object"==typeof o&&(d=_object_spread({},d,o)),0===d.size?n.push("d-".concat(e,"-none")):void 0!==d.size&&d.size>0&&n.push("bs-col".concat(i,"-").concat(d.size)),d.order&&n.push("bs-order".concat(i,"-").concat(d.order)),d.offset&&n.push("bs-offset".concat(i,"-").concat(d.offset))}return n.length>0?n:["bs-col"]}()),children:e})};s.propTypes=a,s.displayName="BsCol";var c={noGutter:r.bool,children:r.node,className:r.string},u=function(t){var n=t.noGutter,e=t.children,r=t.className;return o.jsx("div",{className:i.clsx("bs-row",{"bs-row--no-gutter":n},r),children:e})};u.propTypes=c,u.displayName="BsGrid",u.Col=s,t.exports=u},95313:function(t,n,e){"use strict";e.d(n,{Fw:function(){return c},H6:function(){return a},IO:function(){return r},oo:function(){return u},z$:function(){return s}});var o=e(5164),i=e(79614);function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.qz.get("/api_v1.0/vendor/".concat(t,"/badges"),n)}function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.qz.get("/api_v1.0/vendor/".concat(t,"/all-badges"),n)}function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.qz.get("/api_v1.0/leaderboard/".concat(t),n)}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.qz.get("/v2/vendors/".concat(t,"/leaderboard-items"),n)}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.qz.get("/v2/vendors/badges",_object_spread_props(_object_spread({},t),{params:(0,o.snakize)(t.params)}))}},42358:function(t,n,e){"use strict";e.d(n,{Eb:function(){return r},F3:function(){return a},G$:function(){return u},Is:function(){return l},aD:function(){return i},iA:function(){return s},rJ:function(){return d},tG:function(){return c},x5:function(){return f}});var o=e(79614);function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.iB.get("/ai-engine/api/v2.0/product/search?".concat(t),n)}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.iB.get("/ai-engine/api/v2.0/product/count?".concat(t),n)}function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.iB.get("/ai-engine/api/v2.0/product/special?".concat(t),n)}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.iB.post("/ai-engine/api/v2.0/vendor/search",t)}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.iB.get("/ai-engine/api/v3.0/ac?q=".concat(t),n)}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.iB.get("/ai-engine/api/v2.0/product/popular-searches",t)}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.iB.get("/ai-engine/api/v2.0/product/search",_object_spread({params:t},n))}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.iB.get("/ai-engine/api/v2.0/mlt",{params:t})}function f(t,n){return o.iB.post("/ai-engine/api/v1.0/image/search",t,{signal:n,timeout:3e4})}},32066:function(t,n,e){"use strict";e.d(n,{$J:function(){return g},$f:function(){return l},A1:function(){return C},N5:function(){return p},Of:function(){return b},Ru:function(){return h},TB:function(){return u},Vw:function(){return m},Z6:function(){return c},d0:function(){return y},ie:function(){return j},kT:function(){return _},ld:function(){return x},mu:function(){return s},qM:function(){return w},tz:function(){return f},vu:function(){return a},wJ:function(){return v},yq:function(){return d}});var o=e(5164),i=e(79614),r=e(59808);function a(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.Hn.get("/api_".concat((0,r.a)(n,"v2"),"/story_data/").concat(t),e)}function s(t,n){return i.Hn.get("/api_".concat((0,r.a)(n),"/stories/").concat(t))}function c(t){var n=t.data,e=t.newVersion;return i.Hn.post("/api_".concat((0,r.a)(e),"/stories/add"),n)}function u(t,n){return i.Hn.get("/api_".concat((0,r.a)(n),"/my-stories"),_object_spread({},t))}function l(t,n){return i.Hn.post("/api_".concat((0,r.a)(n,"v2"),"/stories"),(0,o.snakize)({userIds:t}))}function d(t,n){return i.Hn.get("/api_".concat((0,r.a)(n),"/hashtag"),_object_spread({},t))}function f(t){var n=t.vendors,e=t.count,o=t.newVersion;return i.Hn.post("/api_".concat((0,r.a)(o,"v2"),"/user-feed"),{count:e,vendors:n})}function v(t,n){var e=t.count,a=t.identifier,s=t.lastRank,c=t.timeout,u=(0,o.snakize)({count:e,lastRank:s,identifier:a});return i.Hn.get("/api_".concat((0,r.a)(n),"/highlight/read-user-highlights"),_object_spread({params:u},c?{timeout:c}:{}))}function p(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.Hn.post("/api_v1.0/stories/".concat(t,"/seen"),n)}function _(t){return i.Hn.post("/api_v1.0/stories/".concat(t,"/like"))}function m(t){return i.Hn.delete("/api_v1.0/stories/".concat(t,"/like"))}function g(t){return i.Hn.delete("/api_v1.0/stories/".concat(t))}function h(t){return i.Hn.get("/follow-service/has-followed-v2/".concat(t))}function b(t){return i.Hn.post("/follow-service/follow",(0,o.snakize)(t))}function y(t){return i.Hn.post("/follow-service/followers-list",(0,o.snakize)(t))}function x(t){return i.Hn.post("/follow-service/followings-list",(0,o.snakize)(t))}function w(t){return i.Hn.post("/api_v1.0/blocked-users",{target_user_id:t})}function j(t){return i.Hn.delete("/api_v1.0/blocked-users/".concat(t))}function C(t,n,e){var o=e.signal;return i.Hn.get("/api_v1.0/hashtag/autocomplete",{signal:o,params:{substring:t,count:n}})}},10869:function(t,n,e){"use strict";e.d(n,{Z:function(){return k}});var o=e(32930),i=e(40877),r=e(52233),a=e.n(r),s=e(2389),c=e.n(s),u=e(32231),l=e.n(u),d=e(94629),f=e(33918),v=e(92034),p=e.n(v),_=e(79373),m=e(88592),g=e(36350),h=e(73599),b=e(45835),y=e(88107),x=e(27434),w=e(60802),j=e(16660),C=e(94287),N=c()((function(){return Promise.all([e.e(38),e.e(2953),e.e(7297)]).then(e.t.bind(e,75900,23))}),{loadableGenerated:{webpack:function(){return[75900]}},ssr:!1});function k(){var t,n=_sliced_to_array((0,x.useState)("100vh"),2),e=n[0],r=n[1],s=_sliced_to_array((0,x.useState)([]),2),c=s[0],u=s[1],v=_sliced_to_array((0,x.useState)(!1),2),k=v[0],O=v[1],I=(0,y.Z)(),S=(0,b.b)().ua,H=(0,g.useEmitter)(),z=H.subEvent,E=H.offEvent,L=(0,w.l)(),T=L.getFeatureValue,P=L.isGBLoading,U=(0,m.M_)(["userId","isLoggedIn","isLoadingCurrentUser"]),M=U.userId,q=U.isLoggedIn,A=U.isLoadingCurrentUser,Z=T("chat_config"),B=null==Z?void 0:Z.ces,F=null==Z?void 0:Z.allow_not_login,R=P||A,V=!R&&(q||F),D=(0,x.useCallback)((function(t){u(t)}),[]),G=(0,x.useCallback)((function(t){return window.open(t,"_blank")}),[]),K=(0,x.useCallback)((function(){(null==B?void 0:B.enabled)&&O(!0)}),[]);return(0,x.useEffect)((function(){return z("open-show-followers",D,{autoOff:!1}),z("show-ces-modal",K,{autoOff:!1}),function(){E("open-show-followers",D),E("show-ces-modal",K)}}),[D,K]),(0,x.useEffect)((function(){R||q||F||I.replace("/accounts?prev=".concat(encodeURIComponent(window.location.href)))}),[R]),(0,x.useEffect)((function(){var t=function(){var t,n,e,o,i=window.innerHeight,a=(null===(t=document.querySelector("#header"))||void 0===t?void 0:t.offsetHeight)||0,s=S.isPc&&(null===(n=document.querySelector("#social-tabs"))||void 0===n?void 0:n.offsetHeight)||0,c=(null===(e=document.querySelector("#top-banner"))||void 0===e?void 0:e.offsetHeight)||0,u=(null===(o=document.querySelector("#trust-banner"))||void 0===o?void 0:o.offsetHeight)||0;r("".concat(i-a-s-c-u,"px"))};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,o.jsxs)("div",{className:l()["chat-page"],children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:"گفت‌وگو | باسلام"}),(0,o.jsx)("meta",{"data-hid":"robots",name:"robots",content:"noindex"})]}),S.isPc&&(0,o.jsx)(C.default,{}),V&&(0,o.jsx)(_.Z,{children:(0,o.jsx)(N,{height:e,openedChatIdentifier:null===(t=I.query)||void 0===t?void 0:t.identifier,children:function(t){var n=t.isOpen;return!S.isPc&&(0,o.jsx)("div",{className:(0,i.Z)(l()["bottom-navigation"],_define_property({},l()["bottom-navigation--show"],!n)),children:(0,o.jsx)(j.Z,{active:"CHAT"})})}})}),(0,o.jsx)(p(),{size:"md",title:"دنبال کنندگان",showClose:!1,show:c.length>0,onClose:function(){return u([])},children:(0,o.jsx)(h.Z,{userId:M,followerIds:c,show:c.length>0,onClick:G})}),(0,o.jsx)(d.Z,{name:"chat",type:f.Ev.CHAT,isShow:k,cacheTime:(null==B?void 0:B.cacheTime)||90,onClose:function(){return O(!1)},question:{rate:"چقدر از امکان «گفت‌وگو» در باسلام راضی هستی؟",description:"برای بهتر شدن «گفت‌وگو» در باسلام، هر نظر یا بازخوردی داری بهمون بگو:"}})]})}},16660:function(t,n,e){"use strict";e.d(n,{Z:function(){return L}});var o=e(32930),i=e(79862),r=e.n(i),a=e(40877),s=e(27434),c=e(50874),u=e.n(c),l=e(71335),d=e.n(l),f=e(84581),v=e(88592),p=e(88107),_=e(61262);function m(t){var n=t.icon,e=t.title,i=t.count,r=t.active,s=t.onClick,c=t.eventUrl,u=t.hasPoint,l=t.path,m=void 0===l?"":l,g=t.activeIcon,h=t.isNeedLogin,b=t.isShowCategory,y=(0,p.Z)(),x=(0,_.B)().authForm.toggleModal,w=(0,v.M_)(["orderCount","typeOfUser","isLoggedIn","isLoadingCurrentUser"]),j=w.orderCount,C=w.typeOfUser,N=w.isLoggedIn,k=w.isLoadingCurrentUser;return(0,o.jsxs)("div",{className:(0,a.Z)(d()["bottom-navigation-item"],_define_property({},d()["bottom-navigation-item--active"],r)),onClick:function(t){if(c&&(0,f.s)("bottomNavigationClick",{typeOfUser:C,orderCount:j,tabName:e,urlName:c}),!h||N){null==s||s(t);var n=y.pathname===m?null:m;n&&(b?setTimeout((function(){y.push(n)}),300):y.push(n))}else k||x()},children:[(0,o.jsx)("div",{className:(0,a.Z)(d()["bottom-navigation-item__icon"],_define_property({},d()["bottom-navigation-item__icon--has-point"],u)),children:(0,o.jsx)("img",{className:d()["bottom-navigation-item__icon-svg"],src:r?g:n,width:24,height:24,alt:e})}),(0,o.jsx)("span",{className:d()["bottom-navigation-item__title"],children:e}),!!i&&!r&&(0,o.jsx)("span",{className:d()["bottom-navigation-item__count"],children:i})]})}m.propTypes={active:u().bool,path:u().string,count:u().number,hasPoint:u().bool,eventUrl:u().string,isShowCategory:u().bool,icon:u().string.isRequired,title:u().string.isRequired,activeIcon:u().string.isRequired};var g=(0,s.memo)(m),h=e(36350),b=e(81918),y=e(45835),x=e(36839),w=e(60802),j="https://basalam.com/_next/static/media/chat.afc5cfa6.svg",C="https://basalam.com/_next/static/media/home.09ac2b44.svg",N="https://basalam.com/_next/static/media/cart.ad412bf7.svg",k="https://basalam.com/_next/static/media/account.d0596f28.svg",O="https://basalam.com/_next/static/media/category.31079f85.svg",I="https://basalam.com/_next/static/media/chat-fill.690b3c78.svg",S="https://basalam.com/_next/static/media/home-fill.f41cda05.svg",H="https://basalam.com/_next/static/media/cart-fill.e687a7a1.svg",z="https://basalam.com/_next/static/media/account-fill.3582af62.svg",E="https://basalam.com/_next/static/media/category-fill.dbb5dccc.svg",L=(0,s.memo)((function(t){var n=t.top,e=t.active,i=(0,p.Z)(),a=(0,h.useEmitter)().emitEvent,c=(0,y.b)().isWebview,u=_sliced_to_array((0,s.useState)(e),2),l=u[0],d=u[1],_=(0,w.l)().getFeatureValue,m=(0,b.E)().itemCount,L=(0,v.M_)(["bnpl","currentUser","typeOfUser","orderCount"]),T=L.bnpl,P=L.currentUser,U=L.typeOfUser,M=L.orderCount,q=(0,x.dalanMapGetters)(["unseenMessages"]).unseenMessages,A=(0,s.useMemo)((function(){var t,n;return(null!==(t=null==q?void 0:q.chat)&&void 0!==t?t:0)+(null!==(n=null==q?void 0:q.notification)&&void 0!==n?n:0)}),[null==q?void 0:q.chat,null==q?void 0:q.notification]),Z=_sliced_to_array((0,s.useState)(!1),2),B=Z[0],F=Z[1],R=!(!(null==T?void 0:T.activated)||!(null==T?void 0:T.overdueDebt)),V=(null==T?void 0:T.isActivationAvailable)&&!(null==T?void 0:T.hasActiveCredits),D=(0,s.useMemo)((function(){var t;return null===(t=_("chat_config"))||void 0===t?void 0:t.allow_not_login}),[_]),G=(0,s.useCallback)((function(){d("HOME"),B&&(a("toggle-category-mobile",{isVisible:!1}),F(!1))}),[B]),K=(0,s.useCallback)((function(){d("CATEGORY"),B||(a("toggle-category-mobile",{isVisible:!0}),F(!0))}),[B]),Q=(0,s.useCallback)((function(){d("CART"),B&&(a("toggle-category-mobile",{isVisible:!1}),F(!1))}),[B]),W=(0,s.useCallback)((function(){d("CHAT"),B&&(a("toggle-category-mobile",{isVisible:!1}),F(!1)),(0,f.s)("chatListView",{typeOfUser:U,orderCount:M,unreadChatListItemCount:null==P?void 0:P.unseenMessagesCount})}),[B]),J=(0,s.useCallback)((function(){d("ACCOUNT"),B&&(a("toggle-category-mobile",{isVisible:!1}),F(!1))}),[B]);return(0,s.useEffect)((function(){i.prefetch("/"),i.prefetch("/cart"),i.prefetch("/account"),i.prefetch("/account/chats")}),[i]),(0,o.jsxs)("div",{className:r()["bottom-navigation"],id:"bottom-navigation",children:[e===l&&n,!c&&(0,o.jsxs)("nav",{className:r()["bottom-navigation__nav"],children:[(0,o.jsx)(g,{path:"/",title:"خانه",eventUrl:"home",icon:C,activeIcon:S,isShowCategory:B,active:"HOME"===l&&!B,onClick:G}),(0,o.jsx)(g,{title:"دسته‌بندی‌ها",icon:O,isShowCategory:B,activeIcon:E,active:B||"CATEGORY"===l,onClick:K}),(0,o.jsx)(g,{path:"/cart",eventUrl:"cart",title:"سبد خرید",icon:N,count:m,activeIcon:H,isShowCategory:B,active:"CART"===l&&!B,onClick:Q}),(0,o.jsx)(g,{title:"گفت‌وگو‌ها",eventUrl:"chat",count:A,icon:j,path:"/account/chats",activeIcon:I,isShowCategory:B,isNeedLogin:!D,active:"CHAT"===l&&!B,onClick:W}),(0,o.jsx)(g,{isNeedLogin:!0,path:"/account",eventUrl:"profile",title:"حساب کاربری",icon:k,isShowCategory:B,activeIcon:z,hasPoint:R||V,active:"ACCOUNT"===l&&!B,onClick:J})]})]})}))},94629:function(t,n,e){"use strict";e.d(n,{Z:function(){return b}});var o=e(32930),i=e(40877),r=e(40234),a=e.n(r),s=e(27434),c=e(5164),u=e(58271),l=e(17902),d=e(62734),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.Db)(d.t,t)},v=e(65074),p=e.n(v),_=e(81174),m=e.n(_),g=e(92034),h=e.n(g);function b(t){var n=t.name,e=t.type,r=t.isShow,l=t.onClose,d=t.question,v=t.onSuccess,_=t.cacheTime,g=t.successText,b=void 0===g?"ممنون که وقت گذاشتی، یه دنیا ارزش داشت!":g,y=t.icons,x=void 0===y?[{id:1,icon:"bi-emoji-very-sad"},{id:2,icon:"bi-emoji-sad"},{id:3,icon:"bi-poker-face"},{id:4,icon:"bi-emoji"},{id:5,icon:"bi-emoji-happy"}]:y,w=f(),j=w.mutate,C=w.isLoading,N=_sliced_to_array((0,s.useState)(),2),k=N[0],O=N[1],I=_sliced_to_array((0,s.useState)(!1),2),S=I[0],H=I[1],z=_sliced_to_array((0,s.useState)(!1),2),E=z[0],L=z[1],T=_sliced_to_array((0,s.useState)(""),2),P=T[0],U=T[1],M="ces-".concat(n),q=function(){_&&c.bsLocalStorage.setItem(M,String(Date.now()),864e5*_),l()};return(0,s.useEffect)((function(){r&&!c.bsLocalStorage.getItem(M)?H(!0):r||H(!1)}),[r]),(0,o.jsx)(h(),{size:"sm",show:S,onClose:q,className:a().nps,title:E?" ":d.rate,secondaryButton:E?null:(0,o.jsx)(p(),{color:"secondary",label:"باشه بعدا",variant:"outline",size:"md",onClick:q}),primaryButton:E?null:(0,o.jsx)(p(),{color:"primary",label:"ارسال بازخورد",size:"md",loading:C,disabled:!k,onClick:function(){j({type:e,versionCode:0,rate:k,text:P,clientName:"web.public"},{onError:function(t){return(0,u.S_)(t)},onSuccess:function(){L(!0),null==v||v()}})}}),children:E?(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:a().nps__success,children:[(0,o.jsx)("img",{src:"https://statics.basalam.com/public-10/admin/NNaBN/07-11/mshjbzLRO3Cf3Rzh6am9eUv9BOLEGmN20M4qSnRQoqJy7D3wwR.SVG",className:a()["nps__success-image"],alt:""}),(0,o.jsx)("div",{className:a()["nps__success-title"],children:"بازخوردت با موفقیت ثبت شد!"}),(0,o.jsx)("span",{children:b})]})}):(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:a().nps__buttons,children:x.map((function(t){return(0,o.jsx)("button",{className:(0,i.Z)(a().nps__button,_define_property({},a()["nps__button--selected"],t.id===k)),onClick:function(){return O(t.id)},"aria-label":"امتیاز ".concat(t.id),children:(0,o.jsx)("i",{className:(0,i.Z)(a().nps__icon,t.icon)})},t.id)}))}),(0,o.jsxs)("div",{className:a().nps__rate,children:[(0,o.jsx)("span",{children:d.maxText||"خیلی راضی"}),(0,o.jsx)("span",{children:d.minText||"خیلی ناراضی"})]}),(0,o.jsx)(m(),{isMultiline:!0,type:"textarea",value:P,title:d.description,className:a().nps__description,onChange:function(t){return U(t.target.value)}})]})})}},78456:function(t,n,e){"use strict";e.d(n,{C5:function(){return g},K9:function(){return m},Kn:function(){return v},VL:function(){return p},dU:function(){return l},jc:function(){return _},lq:function(){return d},qf:function(){return f}});var o=e(82623),i=e(42358),r=e(81030),a=e(95313),s=e(17902),c=e(63729),u=e(32066),l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.aM)(["vendor-products",t],(function(){return(0,i.aD)((0,r.Z)({size:4,from:0,filters:{vendorIdentifier:t}}))}),n)},d=function(t){var n=t.userId,e=t.followerIds,o=void 0===e?[]:e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.NS)(_object_spread({queryKey:["followers",n,o.toString()],queryFn:function(t){var e=t.pageParam,i=void 0===e?0:e;return(0,u.d0)({userId:n,offset:i,limit:10,userIds:o})},getNextPageParam:function(t,n){var e=n.flat();return 10===t.length&&e.length}},i))},f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.NS)(_object_spread({queryKey:["followings",t],queryFn:function(n){var e=n.pageParam;return(0,u.ld)({userId:t,offset:e||0,limit:10})},getNextPageParam:function(t,n){var e=n.flat();return 10===(null==t?void 0:t.length)?e.length:void 0}},n))},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.Db)(["follow-unfollow-user"],u.Of,t)},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.aM)(["unreviewed-count"],(function(){return(0,o.sE)({limit:1,offset:0})}),t)},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.aM)(["notif-settings"],c.Gi,t)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.Db)(_object_spread({mutationFn:c.f2},t))},g=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.aM)(["vendor-leaderboard",t],(function(){return(0,a.Fw)(t)}),n)}},92518:function(t,n,e){"use strict";e.d(n,{Z:function(){return b}});var o=e(32930),i=e(27434),r=e(2347),a=e(26695),s=e.n(a),c=e(84581),u=e(58271),l=e(88592),d=e(78456),f=e(45835),v=e(61262),p=e(34641),_=e(55253),m=e.n(_),g=e(65074),h=e.n(g);function b(t){var n,e=t.user,a=t.followCallback,_=t.onClick,g=(0,f.b)().isWebview,b=(0,v.B)().dalan.openChatModal,y=(0,l.M_)(["currentUser","isLoggedIn"]),x=y.currentUser,w=y.isLoggedIn,j=(0,v.B)().authForm.toggleModal,C=_sliced_to_array((0,i.useState)(e.isFollowedByCurrentUser),2),N=C[0],k=C[1],O=(0,d.Kn)(),I=O.mutate,S=O.isLoading;return(0,o.jsxs)("div",{className:s().user,children:[(0,o.jsx)("div",{onClick:function(){_((0,p.j)(e))},className:s().user__link,children:(0,o.jsx)(m(),{size:"40",src:e.avatar.small})}),e.name,e.id!==(null==x?void 0:x.id)&&(!N&&(null===(n=e.vendor)||void 0===n?void 0:n.isActive)?(0,o.jsx)(h(),{size:"sm",color:"secondary",variant:"outline",className:s().user__button,label:"دنبال کنید",loading:S,onClick:function(){w?I({action:"follow",targetUserHashid:e.hashId},{onError:u.S_,onSuccess:function(){k((function(t){return!t})),null==a||a()}}):j()}}):(0,o.jsx)(h(),{size:"sm",color:"secondary",variant:"outline",className:s().user__button,label:"گفت‌وگو",href:"/account/chats/".concat(e.hashId),component:g?r.Z:"button",onClick:function(){var t;w?g||(b(e.hashId),(0,c.s)("chatOpen",{productId:null,receiverId:null==e?void 0:e.id,comesFrom:"follow-modal",receiverIsVendor:!!(null==e?void 0:e.vendor),receiverVendorId:null==e||null===(t=e.vendor)||void 0===t?void 0:t.id})):j()}}))]})}},73599:function(t,n,e){"use strict";e.d(n,{Z:function(){return p}});var o=e(32930),i=e(92518),r=e(5164),a=e(78456),s=e(85945),c=e(81433),u=e.n(c),l=e(39145),d=e.n(l),f=e(70437),v=e.n(f);function p(t){var n,e=t.userId,c=t.show,l=t.followerIds,f=t.onClick,p=(0,s.NL)(),_=(0,a.lq)({userId:e,followerIds:l},{enabled:c}),m=_.hasNextPage,g=_.isFetchingNextPage,h=_.fetchNextPage,b=_.isError,y=_.isLoading,x=_.data,w=(null==x||null===(n=x.pages)||void 0===n?void 0:n.flat())||[],j=function(){p.invalidateQueries(["followers",e,(l||[]).toString()])};return(0,o.jsxs)(d(),{useWindow:!1,hasMore:!!m&&!g,fetchMore:h,hasError:!!b&&!g,children:[w.map((function(t){return(0,o.jsx)(i.Z,{user:t,onClick:f,followCallback:j},t.id)})),(y||g)&&(0,r.range)(10).map((function(t){return(0,o.jsxs)(u(),{display:"flex",alignItems:"center",gap:8,pr:32,pt:16,children:[(0,o.jsx)(v(),{width:40,height:40,radius:"50%"}),(0,o.jsx)(v(),{width:80,height:16})]},t)}))]})}},81030:function(t,n,e){"use strict";var o=e(246),i=e.n(o);n.Z=function(t){return i().stringify(t,{arrayFormat:"comma",allowDots:!0})}},59808:function(t,n,e){"use strict";e.d(n,{a:function(){return i}});var o={v1:"v1.0",v2:"v2.0",v3:"v3.0"};function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v1";return t?o.v3:o[n]}},32231:function(t){t.exports={"bottom-navigation":"ssHRZZ","bottom-navigation--show":"Dice82","chat-page":"zL0nlV"}},71335:function(t){t.exports={"bottom-navigation-item":"_B9G_j","bottom-navigation-item__icon":"NnNxOM","bottom-navigation-item__icon--has-point":"ruoP5A","bottom-navigation-item__title":"FPnqyE","bottom-navigation-item__count":"RLQqPM","bottom-navigation-item__icon-svg":"_2l6lcT","bottom-navigation-item--active":"sbmTp7"}},79862:function(t){t.exports={"bottom-navigation":"bL4ZpA","bottom-navigation__nav":"Q_F1dh","bottom-navigation__nav-item":"_5jDyz9","bottom-navigation__nav-item-title":"_7vw_9A","bottom-navigation__nav-item-count":"_8_ftrv","bottom-navigation__nav-item--active":"TP970F"}},40234:function(t){t.exports={nps__buttons:"YpfAIW",nps__button:"pe02UM","nps__button--selected":"CNadaC",nps__rate:"f36UWZ",nps__description:"LM7H_W",nps__success:"_6ixxoO","nps__success-title":"JH8z5M",nps__icon:"yHSBE_",nps__input:"TGGE5f",nps:"ApLmAV"}},26695:function(t){t.exports={user:"QQrUBn",user__link:"_0ghk_r",user__button:"Ll3tsb"}},24654:function(){}}]);