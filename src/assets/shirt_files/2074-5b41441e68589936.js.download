function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array(e)}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function _async_to_generator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){asyncGeneratorStep(i,n,o,a,l,"next",e)}function l(e){asyncGeneratorStep(i,n,o,a,l,"throw",e)}a(void 0)}))}}function _define_property(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterable_to_array_limit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_define_property(e,t,r[t])}))}return e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function _object_without_properties(e,t){if(null==e)return{};var r,n,o=_object_without_properties_loose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _object_without_properties_loose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||_unsupported_iterable_to_array(e)||_non_iterable_spread()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_array_like_to_array(e,t):void 0}}function _ts_generator(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2074],{82074:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(32930),o=r(2389),i=r.n(o),a=r(51491),l=r.n(a),u=r(177),c=r.n(u),s=r(26491),d=r(69691),p=r(45835),_=r(27434),f=r(50874),v=r.n(f),b=r(94002),m=r(58271);function y(e){var t=e.children,r=e.fallback,o=void 0===r?(0,n.jsx)("div",{}):r;return(0,n.jsx)(b.ErrorBoundary,{fallback:o,onError:m.wJ,children:t})}y.propTypes={children:v().node,fallback:v().node};var h=(0,_.memo)(y),g=r(88423);function j(e){var t;return{ui:e.ui,name:e.name,title:e.title,description:e.description,metadata:e.metaData||{},moreLink:null===(t=e.moreLink)||void 0===t?void 0:t.replace("https://basalam.com","")}}function w(e){var t=e.result[0].metadata;return _object_spread_props(_object_spread({},j(e)),{metadata:_object_spread_props(_object_spread({},e.metaData),{size:t.size,autoplay:t.autoSlide||t.autoPlay}),items:t.images.map((function(e){return{link:e.link,src:{pc:e.desktopUrl||e.url||e.image,mobile:e.mobile||e.url||e.image}}})).slice(0,20)})}function k(e){var t=e.result[0].metadata;return _object_spread_props(_object_spread({},j(e)),{items:t.videos.slice(0,20),metadata:_object_spread_props(_object_spread({},e.metaData),{title:t.title,size:t.size})})}var P=function(e){return e.every((function(e){var t,r=null==e||null===(t=e.metadata)||void 0===t?void 0:t.videos;if(!(null==r?void 0:r.length))return!1;var n=!0,o=!1,i=void 0;try{for(var a,l=r[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value,c=(null==u?void 0:u.thumbnail)&&("string"==typeof u.thumbnail||"object"==typeof u.thumbnail&&null!==u.thumbnail);if(!(null==u?void 0:u.url)||!c)return!1}}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return!0}))},x=new Set(["blog_post","ads_slider","product_card","billboard_image","horizontal_category","vertical_video_list","horizontal_video_list","horizontal_product_popular"]),O={blog_post:function(e){return e.every((function(e){var t,r=null==e||null===(t=e.metadata)||void 0===t?void 0:t.posts;return(null==r?void 0:r.length)>0&&r.every((function(e){return null==e?void 0:e.imageUrl}))}))},ads_slider:function(e){return e.every((function(e){var t,r=null==e||null===(t=e.metadata)||void 0===t?void 0:t.banners;return(null==r?void 0:r.length)>0&&r.every((function(e){return(null==e?void 0:e.url)||(null==e?void 0:e.image)}))}))},vertical_video_list:P,billboard_image:function(e){return e.every((function(e){var t,r=null==e||null===(t=e.metadata)||void 0===t?void 0:t.images;return(null==r?void 0:r.length)>0&&r.every((function(e){return(null==e?void 0:e.url)&&(null==e?void 0:e.link)}))}))},billboard_video:function(e){return e.every((function(e){return(null==e?void 0:e.title)&&(null==e?void 0:e.poster)&&(null==e?void 0:e.videoUrl)}))},horizontal_video_list:P,horizontal_category:function(e){return e.every((function(e){var t,r=null==e||null===(t=e.metadata)||void 0===t?void 0:t.categories;return(null==r?void 0:r.length)>0&&r.every((function(e){return(null==e?void 0:e.icon)&&(null==e?void 0:e.link)&&(null==e?void 0:e.title)}))}))},horizontal_product_popular:function(e){return e.every((function(e){var t,r,n;return(null==e?void 0:e.id)&&(null==e?void 0:e.name)&&"number"==typeof(null==e?void 0:e.price)&&(null==e||null===(t=e.photo)||void 0===t?void 0:t.small)&&(null==e||null===(r=e.vendor)||void 0===r?void 0:r.name)&&(null==e||null===(n=e.vendor)||void 0===n?void 0:n.identifier)}))}},S={blog_post:function(e){var t=e.result[0].metadata;return _object_spread_props(_object_spread({},j(e)),{items:t.posts.slice(0,20),metadata:_object_spread_props(_object_spread({},e.metaData),{title:t.title,size:t.size})})},ads_slider:function(e){var t=e.result[0].metadata;return _object_spread_props(_object_spread({},j(e)),{metadata:_object_spread_props(_object_spread({},e.metaData),{size:t.size,autoplay:t.autoSlide||t.autoPlay}),items:t.banners.map((function(e){return{link:e.link,src:{pc:e.desktopUrl||e.url||e.image,mobile:e.mobile||e.url||e.image}}})).slice(0,20)})},billboard_video:w,billboard_image:w,vertical_video_list:k,horizontal_category:function(e){return _object_spread_props(_object_spread({},j(e)),{items:e.result[0].metadata.categories.slice(0,20)})},horizontal_video_list:k,horizontal_product_popular:function(e){return _object_spread_props(_object_spread({},j(e)),{items:{result:e.result.map((function(t){var r,n,o,i,a,l,u,c=null;return((null===(r=t.metadata)||void 0===r?void 0:r.primaryPrice)||(null===(n=t.metadata)||void 0===n?void 0:n.remainingStock)||(null===(o=t.metadata)||void 0===o?void 0:o.expireTime))&&(c={backgroundNone:!0,expireTime:t.metadata.expireTime,inventory:t.metadata.remainingStock,primaryPrice:t.metadata.primaryPrice}),{realDiscount:c,showLabel:!0,isLazyLoad:!0,conversationBtn:!1,showMoreOptionBtn:!1,isShowAppDiscountBadge:!1,canShowGoodPriceExperiment:!0,isSelectedVendor:!!(null===(i=t.vendor)||void 0===i?void 0:i.score),isSpecialSale:!!(null===(a=t.metadata)||void 0===a?void 0:a.badgeTitle),queryParams:(0,g.Z)(e.item,!1),badgeTitle:(null==t||null===(l=t.currentPromotion)||void 0===l?void 0:l.cardBadgeTitle)||(null==t||null===(u=t.metadata)||void 0===u?void 0:u.badgeTitle)||!1,product:{id:t.id,name:t.name,stock:t.stock,price:t.price,rating:t.rating,vendor:t.vendor,metadata:t.metadata,photo:t.photo.small,ads:t.metadata.offerId,listingIds:t.listingIds,canAddToCart:t.canAddToCart,hasVariation:t.hasVariation,primaryPrice:t.primaryPrice,isFreeShipping:t.isFreeShipping,currentPromotion:t.currentPromotion}}})).slice(0,20)}})}},z=i()((function(){return r.e(560).then(r.bind(r,10560))}),{loadableGenerated:{webpack:function(){return[10560]}},ssr:!0}),E=i()((function(){return r.e(5536).then(r.bind(r,55536))}),{loadableGenerated:{webpack:function(){return[55536]}},ssr:!1}),I=i()((function(){return r.e(823).then(r.bind(r,40823))}),{loadableGenerated:{webpack:function(){return[40823]}},ssr:!1}),A=i()((function(){return r.e(5399).then(r.bind(r,95399))}),{loadableGenerated:{webpack:function(){return[95399]}},ssr:!1}),T=i()((function(){return r.e(162).then(r.bind(r,30162))}),{loadableGenerated:{webpack:function(){return[30162]}},ssr:!0}),D=i()((function(){return Promise.all([r.e(463),r.e(9187),r.e(3394)]).then(r.bind(r,85156))}),{loadableGenerated:{webpack:function(){return[85156]}},ssr:!0}),L=(0,s.Z)({on:["visible"]})(z),C=(0,s.Z)({on:["visible"]})(E),G=(0,s.Z)({on:["visible"]})(I),Z=(0,s.Z)({on:["visible"]})(T),N=(0,s.Z)({on:["visible"]})(A),R=(0,s.Z)({on:["visible"]})(D);function B(e){var t=e.sections,r=(0,p.b)().ua,o=function(e){var t=(0,_.useRef)({}),r=(0,_.useMemo)((function(){var r=[];return e.forEach((function(e){var n,o="name:".concat(e.name,"-ui:").concat(e.ui,"-items:").concat((null===(n=e.result)||void 0===n?void 0:n.length)||0);if(t[o])r.push(t[o]);else if(x.has(e.ui)){if(O[e.ui])if(!O[e.ui](e.result))return;S[e.ui]?r.push(S[e.ui](e)):r.push(e),t.current[o]=r}})),r}),[e]);return r}(t);return(0,n.jsx)("div",{className:l()["discovery-wrapper"],children:o.map((function(e,t){return(0,n.jsxs)(h,{children:["horizontal_category"===e.ui&&(0,n.jsx)(c(),{children:(0,n.jsx)(Z,{items:e.items})}),"quickaccess"===e.name&&!r.isPc&&(0,n.jsx)(d.Z,{}),"horizontal_product_popular"===e.ui&&(0,n.jsx)(c(),{fluid:!r.isPc,children:(0,n.jsx)(R,{items:e.items,title:e.title,moreLink:e.moreLink,metadata:e.metadata,description:e.description,showAllProduct:e.metadata.showAllProduct})}),"ads_slider"===e.ui&&(0,n.jsx)(c(),{children:(0,n.jsx)(L,{name:e.name,banners:e.items,metadata:e.metadata,className:l().discovery__ads_slider})}),"billboard_image"===e.ui&&(0,n.jsx)(z,{name:e.name,banners:e.items,metadata:e.metadata}),"billboard_video"===e.ui&&(0,n.jsx)(c(),{children:(0,n.jsx)(C,{video:e.items[0],name:"billboard_video"})}),"blog_post"===e.ui&&(0,n.jsx)(c(),{children:(0,n.jsx)(G,{name:"blog_post",posts:e.items,title:e.title,metadata:e.metadata})}),"horizontal_video_list"===e.ui&&(0,n.jsx)(c(),{children:(0,n.jsx)(N,{videos:e.items,metadata:e.metadata,name:"horizontal_video_list"})}),"vertical_video_list"===e.ui&&(0,n.jsx)(c(),{children:(0,n.jsx)(N,{verticalModeVideo:!0,videos:e.items,name:"vertical_video_list",metadata:e.metadata})})]},"".concat(t,"-").concat(e.ui))}))})}},88423:function(e,t,r){"use strict";function n(e,t){var r={from:"explore",page:(null==e?void 0:e.tabName)||null,component:null==e?void 0:e.name};return t&&(r.more=!0),r}r.d(t,{Z:function(){return n}})},26491:function(e,t,r){"use strict";var n=r(32930),o=r(43828),i=r(5164),a=r(27434),l=(0,i.isClientSide)(),u={once:!0,capture:!0,passive:!0},c=function(e){return function(t){var r=t.wrapperProps,o=_object_without_properties(t,["wrapperProps"]);return(0,n.jsx)("section",_object_spread_props(_object_spread({"data-hydration-on-demand":!0},r),{children:(0,n.jsx)(e,_object_spread({},o))}))}},s=function(e){var t=e.on,r=void 0===t?[]:t,i=e.onBefore,l=e.disableFallback,c=void 0!==l&&l,s=e.whenInputPending,d=void 0!==s&&s,p=e.isInputPendingFallbackValue,_=void 0===p||p;return function(e){var t=function(t){var l=t.wrapperProps,s=t.forceHydration,p=void 0!==s&&s,f=t.isServerRendered,v=void 0===f||f,b=_object_without_properties(t,["wrapperProps","forceHydration","isServerRendered"]),m=(0,a.useRef)(null),y=(0,a.useRef)([]),h=(0,o.useRouter)(),g=function(){var e=d&&!function(){var e,t,r,n=null===(r=navigator)||void 0===r||null===(t=r.scheduling)||void 0===t||null===(e=t.isInputPending)||void 0===e?void 0:e.call(t);return null!=n?n:_}();return(e||p||!v)&&!i},j=_sliced_to_array((0,a.useState)((function(){return g()})),2),w=j[0],k=j[1],P=_sliced_to_array((0,a.useState)(!0),2),x=P[0],O=P[1],S=function(){y.current.forEach((function(e){return e()})),y.current=[]},z=function(){var e=_async_to_generator((function(){var e,t=arguments;return _ts_generator(this,(function(r){switch(r.label){case 0:return e=!(t.length>0)||void 0===t[0]||t[0],S(),w?[3,3]:i?[4,i()]:[3,2];case 1:r.sent(),r.label=2;case 2:k(!0),r.label=3;case 3:return O(e),[2]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(!(e<=0)){var t=setTimeout((function(){return z(!1)}),e);y.current.push((function(){return clearTimeout(t)}))}},I=function(e,t){switch(e){case"delay":E(t);break;case"visible":!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Function.prototype;if("IntersectionObserver"in window){var t=e(),r=new IntersectionObserver((function(e){var t=_sliced_to_array(e,1)[0];t.isIntersecting&&t.intersectionRatio>0&&z(!1)}),t);y.current.push((function(){r&&r.disconnect()})),r.observe(m.current)}else z(!1)}(t);break;case"idle":!function(){if("requestIdleCallback"in window){var e=requestIdleCallback((function(){return requestAnimationFrame((function(){return z(!1)}))}),{timeout:500});"cancelIdleCallback"in window&&y.current.push((function(){cancelIdleCallback(e)}))}else E()}();break;default:!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return m.current})();t.addEventListener(e,(function(){return z(!1)}),u),y.current.push((function(){t&&t.removeEventListener(e,(function(){return z(!1)}),u)}))}(e,t)}};return(0,a.useLayoutEffect)((function(){w||(!p&&v&&(!!m.current.dataset.hydrationOnDemand||c)||z())}),[p,v]),(0,a.useEffect)((function(){return r.forEach((function(e){return Array.isArray(e)?I.apply(void 0,_to_consumable_array(e)):I(e)})),function(){return S()}}),[h.asPath]),(0,a.useEffect)((function(){O(!0)}),[h.asPath]),w?(0,n.jsx)("section",_object_spread_props(_object_spread({ref:m},l),{children:(0,n.jsx)(e,_object_spread_props(_object_spread({},b),{isQueuedEvent:x}))})):(0,n.jsx)("section",_object_spread({ref:m,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0},l))};return t.displayName="withHydrationOnDemand(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),t}};t.Z=function(e){return l?s(e):c}},51491:function(e){e.exports={discovery__ads_slider:"L4Lxcp","discovery-wrapper":"ZM9CdW","banner-slider-discovery--low-space":"dJGagd"}}}]);