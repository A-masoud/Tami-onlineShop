function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array(e)}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _async_to_generator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){asyncGeneratorStep(i,n,o,a,u,"next",e)}function u(e){asyncGeneratorStep(i,n,o,a,u,"throw",e)}a(void 0)}))}}function _define_property(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterable_to_array_limit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_define_property(e,t,r[t])}))}return e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||_unsupported_iterable_to_array(e)||_non_iterable_spread()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_array_like_to_array(e,t):void 0}}function _ts_generator(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2727],{44218:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});var n=r(12254),o=r.n(n),i=r(86695);function a(e,t,r){if(!t)return null;var n=function(e,t){var r=new i.G({trackingCallback:function(){},enableDevMode:!1});return r.setFeatures(e),function(e,t){if(t){var r=t.deviceId,n=t.userId,i=t.userAgent,a=i&&o()(i);e.setAttributes({deviceId:r,country:"IR",company:"Basalam",loggedIn:!!n,id:String(n),int_user_id:Number(n),browser:(null==a?void 0:a.browser.name)||!1})}}(r,t),r}(t,r);return n.getFeatureValue(e)}},67734:function(e,t,r){"use strict";r.d(t,{U:function(){return i}});var n=r(27434),o=r(60802);function i(e){var t=(0,o.l)().getFeatureValue,r=(0,n.useMemo)((function(){return t("pdp_web_public")||{}}),[t]);return(0,n.useMemo)((function(){return e.map((function(e){return r[e]}))||[]}),[e,r])}},74146:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(32930),o=r(12254),i=r.n(o),a=r(14347),u=r(25970),l=r.n(u),c=r(58271),s=r(2389),d=r.n(s),p=r(45835),y=d()((function(){return Promise.all([r.e(9380),r.e(3944),r.e(928),r.e(3241),r.e(9923)]).then(r.bind(r,74344))}),{loadableGenerated:{webpack:function(){return[74344]}}}),f=d()((function(){return Promise.all([r.e(4287),r.e(9380),r.e(3944),r.e(928),r.e(3241),r.e(2968)]).then(r.bind(r,31364))}),{loadableGenerated:{webpack:function(){return[31364]}}});function v(){return(0,p.b)().ua.isPc?(0,n.jsx)(f,{}):(0,n.jsx)(y,{})}var _=r(82809),b=r(96929),m=r(6790),g=r(44218),h=r(40463),w=r(52233),j=r.n(w),P=r(2134),O=r.n(P),S=r(70986),x=r.n(S),I=r(53585),k=r.n(I),C=r(5164),D=r(44902),A=r(56345),R=r(88107),E=r(33918),F=r(31564),T=O()().publicRuntimeConfig;function N(e){var t=e.split("?")[0];return T.baseUrl+t}var U,V=function(e){var t,r,o,i,a,u,l,c,s,d,y,f,v,_,b,m,g,w,P=e.product,O=e.asPath,S=(0,R.Z)(),I=(0,p.b)().ua,U=(0,h.G)().productPageStatus,V=U===E.FP.ACTIVE,M=U===E.FP.ILLEGAL,G=S.query||{},L=G.vendorIdentifier,q=G.productId,Z=(0,D.j)(Number(q),L).data;if(!P)return null;var B=256===(null===(t=P.vendor)||void 0===t?void 0:t.identifier),H="خرید و قیمت ".concat(P.title," از غرفه ").concat(P.vendor.title),Y="خرید اینترنتی ".concat(P.title.slice(0,20)," از باسلام، ").concat(P.isFreeShipping?"با ارسال رایگان ":"","از ").concat((null===(o=P.vendor)||void 0===o||null===(r=o.city)||void 0===r?void 0:r.title)||"",".");P.category&&(Y+="متنوع ترین ".concat(P.category.title.replace("راسته ","")," ها با بهترین قیمت در باسلام"));var J=function(e,t,r,n){var o,i,a=new Date;a.setDate(a.getDate()+3);var u={sku:e.id,mpn:e.id,"@type":"Product",name:e.title,productID:e.id,"@context":"http://schema.org",description:x()(null===(o=e.description)||void 0===o?void 0:o.replace(k()(),""),250,"...",!0),image:[{"@type":"ImageObject",contentUrl:A.F.src}],brand:{"@type":"Brand",name:e.vendor.title,url:"/".concat(e.vendor.identifier)},deliveryTime:{"@type":"ShippingDeliveryTime",handlingTime:{minValue:0,maxValue:14,"@type":"QuantitativeValue"}},aggregateRating:{bestRating:5,worstRating:0,"@type":"AggregateRating",ratingValue:e.rating||4,reviewCount:e.reviewCount||1},offers:{"@type":"Offer",priceCurrency:"IRR",price:e.price,url:N(r),priceValidUntil:a.toISOString(),availability:n?"InStock":"OutOfStock",seller:{"@type":"Person",name:e.vendor.title}}};return(null==e?void 0:e.description)||(u.description="خرید اینترنتی ".concat(e.title.slice(0,20)," از باسلام ").concat(e.isFreeShipping?"با ارسال رایگان ":""," از شهر ").concat(null===(i=e.vendor)||void 0===i?void 0:i.city.title)),(null==e?void 0:e.photos)&&(u.image=_to_consumable_array(u.image).concat(_to_consumable_array((e.photos||[]).map((function(t){return{contentUrl:t.lg,"@type":"ImageObject",author:{"@type":"Person",name:e.vendor.user.name}}}))))),(null==t?void 0:t.reviews)&&(u.review=t.reviews.map((function(e){return{"@type":"Review",datePublished:(0,C.gregoryDate)(e.createdAt).format("YYYY-MM-DD"),reviewBody:(e.description||"").replace(/(<([^>]+)>)/gi,""),author:{"@type":"Person",name:e.user.name||"ناشناس"},reviewRating:{bestRating:5,worstRating:0,"@type":"Rating",ratingValue:e.star||4}}}))),u}(P,null==Z?void 0:Z.review,O,V),K=(0,F.O)(null==P?void 0:P.breadcrumbs),X=V?(null==P||null===(i=P.video)||void 0===i?void 0:i.thumbnail)?null==P||null===(a=P.video)||void 0===a?void 0:a.thumbnail:I.isPc?null==P||null===(u=P.photo)||void 0===u?void 0:u.lg:null==P||null===(l=P.photo)||void 0===l?void 0:l.md:null==P||null===(c=P.photo)||void 0===c?void 0:c.md;return(0,n.jsxs)(j(),{children:[(0,n.jsx)("title",{children:H}),(0,n.jsx)("meta",{name:"description",content:Y}),B&&(0,n.jsx)("meta",{name:"robots",content:"noindex"}),(0,n.jsx)("link",{rel:"canonical",href:N(O)}),(0,n.jsx)("meta",{property:"og:title",content:H}),(0,n.jsx)("meta",{property:"og:type",content:"product"}),(0,n.jsx)("meta",{property:"og:description",content:Y}),(0,n.jsx)("meta",{property:"og:url",content:N(O)}),(0,n.jsx)("meta",{property:"og:site_name",content:"باسلام؛ بازار بی‌مرز"}),(0,n.jsx)("meta",{property:"og:image",content:null!==(w=null==P||null===(s=P.photo)||void 0===s?void 0:s.lg)&&void 0!==w?w:A.F.src}),(0,n.jsx)("meta",{name:"twitter:title",content:H}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,n.jsx)("meta",{name:"twitter:site",content:"@basalam_bazaar"}),(0,n.jsx)("meta",{name:"twitter:description",content:Y}),!M&&(0,n.jsx)("link",{rel:"preload",as:"image",href:X,fetchpriority:"high"}),(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(J)}}),(null==K?void 0:K.length)>0&&(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@type":"BreadcrumbList","@context":"http://schema.org",itemListElement:K.map((function(e,t){return{position:t+1,"@type":"ListItem",item:{name:e.title,"@id":T.baseUrl+e.link}}}))})}}),(null===(d=P.video)||void 0===d?void 0:d.url)&&(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({name:P.title,"@type":"VideoObject",contentUrl:null===(y=P.video)||void 0===y?void 0:y.url,"@context":"http://schema.org",uploadDate:(0,C.gregoryDate)().format(),thumbnailUrl:null===(f=P.video)||void 0===f?void 0:f.thumbnail,description:" ویدئو معرفی و بررسی ".concat(P.title," توسط غرفه ").concat(null==P||null===(v=P.vendor)||void 0===v?void 0:v.title," از ").concat(null==P||null===(b=P.vendor)||void 0===b||null===(_=b.city)||void 0===_?void 0:_.title," در باسلام"),creator:{"@type":"Person",name:null==P||null===(m=P.vendor)||void 0===m?void 0:m.title,url:"".concat(T.baseUrl,"/").concat(null==P||null===(g=P.vendor)||void 0===g?void 0:g.identifier)}})}})]})},M=r(67734);function G(e){var t=e.product,r=e.asPath,o=e.isPc;return _sliced_to_array((0,M.U)(["base_product"]),1)[0]?(0,n.jsxs)(h.j,{children:[(0,n.jsx)(V,{asPath:r,isMobile:!o,product:t}),(0,n.jsx)(v,{})]}):(0,n.jsx)(m.Z,{})}G.getInitialProps=(U=_async_to_generator((function(e){var t,r,n,o,u,s,d,p,y,f,v,m,h,w,j,P,O,S,x,I,k,C;return _ts_generator(this,(function(D){switch(D.label){case 0:if(t=e.req,r=e.res,n=e.query,o=e.asPath,u=e.userId,s=e.deviceId,d=e.userAgent,p=e.gbFeatures,y=e.queryClient,f=Date.now(),v=i()(d),m=v.isPc,h={firstSection:0,secondSection:0},!1===(null==(w=(0,g.d)("pdp_web_public",p,{userId:u,deviceId:s,userAgent:d}))?void 0:w.base_product))return[2,(r&&(r.statusCode=503),{error:{statusCode:503}})];if(!t)return[2,{isPc:m}];if(h.firstSection=Date.now()-f,j=n.vendorIdentifier,P=Number(n.productId),!l()(P))return[2,(r.statusCode=404,{error:{statusCode:404}})];O=(0,a.Z)(),h.secondSection=Date.now()-f,D.label=1;case 1:return D.trys.push([1,3,,4]),[4,y.fetchQuery({queryKey:["pdp",P,j],queryFn:function(){return(0,b.rX)(P,j,{req:t,res:r,traceId:O})}})];case 2:return S=D.sent(),(x=_object_spread_props(_object_spread({},S.core),{breadcrumbs:200===S.navigation.backendHttpStatusCode?S.navigation:{}})).vendor.identifier!==j?[2,(r.statusCode=404,{error:{statusCode:404}})]:[2,{isPc:m,asPath:o,product:x,webVitalData:{traceId:O,pdpReq:Date.now()-f,pdpFirst:h.firstSection,pdpStatus:(0,_.Z)(x,null==x?void 0:x.vendor)}}];case 3:return I=D.sent(),k=(0,c.Pt)(I),C=422===(null==k?void 0:k.statusCode)?404:k.statusCode||500,[2,(r.statusCode=C,{error:{statusCode:C}})];case 4:return[2]}}))})),function(e){return U.apply(this,arguments)});var L=(0,r(27696).Z)(G)},50662:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[vendorIdentifier]/product/[productId]",function(){return r(74146)}])}},function(e){e.O(0,[973,9600,8597,2791,2199,6816,7314,3306,463,9774,2888,179],(function(){return e(e.s=50662)})),_N_E=e.O()}]);